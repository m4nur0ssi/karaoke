[{"path":"index.html","content":"<!DOCTYPE html>\r\n<html lang=\"fr\">\r\n\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no\">\r\n    <title>Musical Quiz 2026</title>\r\n    <link rel=\"stylesheet\" href=\"style.css?v=2026_v15\">\r\n    <link href=\"https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap\" rel=\"stylesheet\">\r\n</head>\r\n\r\n<body class=\"dark-mode\">\r\n    <nav class=\"menu-bar\">\r\n        <button id=\"nav-home\" class=\"nav-btn\">Accueil</button>\r\n        <div id=\"room-code-display\" class=\"room-code-tag hidden\">ROOM: <span id=\"current-room-id\">----</span></div>\r\n        <div class=\"team-scores\">\r\n            <span id=\"score-team-1\" class=\"score-chip\"></span>\r\n            <span id=\"score-team-2\" class=\"score-chip\"></span>\r\n            <span id=\"score-team-3\" class=\"score-chip hidden\"></span>\r\n            <span id=\"score-team-4\" class=\"score-chip hidden\"></span>\r\n        </div>\r\n    </nav>\r\n\r\n    <main id=\"app-container\">\r\n        <!-- Screen Role Selection (STITCH 2026 Entry) -->\r\n        <section id=\"screen-role\" class=\"screen active\">\r\n            <div class=\"hero\">\r\n                <h1 class=\"glow-text\">Musical Quiz</h1>\r\n                <p class=\"welcome-msg\">Choisissez votre mode de jeu :</p>\r\n                <div class=\"role-selector\">\r\n                    <button id=\"btn-role-host\" class=\"role-card\">\r\n                        <div class=\"role-icon\">üì∫</div>\r\n                        <h3>√âcran Principal</h3>\r\n                        <p>iPad / TV (H√¥te)</p>\r\n                    </button>\r\n                    <button id=\"btn-role-player\" class=\"role-card\">\r\n                        <div class=\"role-icon\">üì±</div>\r\n                        <h3>Buzzer T√©l√©phone</h3>\r\n                        <p>Joueur (Manette)</p>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </section>\r\n\r\n        <!-- Screen Home (Host Only) -->\r\n        <section id=\"screen-home\" class=\"screen\">\r\n            <div class=\"hero\">\r\n                <h2 class=\"glow-text mini\">Pr√™t pour le d√©fi ?</h2>\r\n                <div class=\"game-setup-options glass\">\r\n                    <div class=\"setup-group\">\r\n                        <label>Mode de R√©ponse :</label>\r\n                        <div class=\"mode-btns\">\r\n                            <button class=\"mode-btn active\" data-mode=\"oral\">üé§ VOIX HAUTE</button>\r\n                            <button class=\"mode-btn\" data-mode=\"buttons\">üîò 4 BOUTONS</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"team-setup\">\r\n                    <button id=\"btn-create-teams\" class=\"main-btn primary\">Configurer le Salon</button>\r\n                </div>\r\n            </div>\r\n        </section>\r\n\r\n        <!-- Screen Themes -->\r\n        <section id=\"screen-themes\" class=\"screen\">\r\n            <h2 class=\"section-title\">Choisissez un Th√®me</h2>\r\n            <div class=\"themes-grid\">\r\n                <div class=\"theme-card\" data-theme=\"80s\">\r\n                    <div class=\"poster-container\">\r\n                        <div class=\"poster-placeholder theme-80s\"></div>\r\n                        <div class=\"poster-overlay\"><span>Ann√©es 80</span></div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"theme-card\" data-theme=\"poprock\">\r\n                    <div class=\"poster-container\">\r\n                        <div class=\"poster-placeholder poprock\"></div>\r\n                        <div class=\"poster-overlay\"><span>Pop Rock</span></div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"theme-card\" data-theme=\"disney\">\r\n                    <div class=\"poster-container\">\r\n                        <div class=\"poster-placeholder disney\"></div>\r\n                        <div class=\"poster-overlay\"><span>Disney FR</span></div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"theme-card\" data-theme=\"rapfr\">\r\n                    <div class=\"poster-container\">\r\n                        <div class=\"poster-placeholder rapfr\"></div>\r\n                        <div class=\"poster-overlay\"><span>Rap FR</span></div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"theme-card\" data-theme=\"rapus\">\r\n                    <div class=\"poster-container\">\r\n                        <div class=\"poster-placeholder rapus\"></div>\r\n                        <div class=\"poster-overlay\"><span>Rap/R&B US</span></div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"theme-card\" data-theme=\"cartoons\">\r\n                    <div class=\"poster-container\">\r\n                        <div class=\"poster-placeholder cartoons\"></div>\r\n                        <div class=\"poster-overlay\"><span>Dessins Anim√©s üì∫</span></div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"theme-card\" data-theme=\"movies\">\r\n                    <div class=\"poster-container\">\r\n                        <div class=\"poster-placeholder movies\"></div>\r\n                        <div class=\"poster-overlay\"><span>Films üé¨</span></div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"theme-card\" data-theme=\"series\">\r\n                    <div class=\"poster-container\">\r\n                        <div class=\"poster-placeholder series\"></div>\r\n                        <div class=\"poster-overlay\"><span>S√©ries TV üéûÔ∏è</span></div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"theme-card\" data-theme=\"random\">\r\n                    <div class=\"poster-container\">\r\n                        <div class=\"poster-placeholder random-grad\"></div>\r\n                        <div class=\"poster-overlay\"><span>üé≠ Al√©atoire</span></div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </section>\r\n\r\n        <!-- Screen Game -->\r\n        <section id=\"screen-game\" class=\"screen\">\r\n            <div class=\"game-ui\">\r\n                <div class=\"now-playing\">\r\n                    <div class=\"visualizer\">\r\n                        <div class=\"bar\"></div>\r\n                        <div class=\"bar\"></div>\r\n                        <div class=\"bar\"></div>\r\n                        <div class=\"bar\"></div>\r\n                        <div class=\"bar\"></div>\r\n                    </div>\r\n                    <div class=\"game-header\">\r\n                        <div id=\"modifier-badge\" class=\"modifier-badge hidden\">Surprise Bonus</div>\r\n                        <div id=\"countdown\" class=\"timer\">30</div>\r\n                    </div>\r\n\r\n                    <!-- La Roue du Destin (Slot Machine Effect) -->\r\n                    <div id=\"modal-wheel\" class=\"modal-wheel hidden\">\r\n                        <div class=\"wheel-overlay\"></div>\r\n                        <div class=\"slot-machine\">\r\n                            <h2 class=\"slot-title\">LA ROUE DU DESTIN üé°</h2>\r\n\r\n                            <div id=\"wheel-team-zone\" class=\"wheel-team-zone\">\r\n                                <p>C'est au tour de :</p>\r\n                                <div id=\"wheel-team-name\" class=\"wheel-team-name\">√âQUIPE 1</div>\r\n                                <button id=\"btn-spin-wheel\" class=\"main-btn spin-btn\">LANCER LA ROUE ! üé∞</button>\r\n                            </div>\r\n\r\n                            <div id=\"slot-window\" class=\"slot-window hidden\">\r\n                                <div id=\"slot-reel\" class=\"slot-reel\">\r\n                                    <!-- Will be populated by JS -->\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"slot-light left\"></div>\r\n                            <div class=\"slot-light right\"></div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div id=\"reveal-card\" class=\"reveal-card hidden\">\r\n                        <div class=\"reveal-content-container\">\r\n                            <div id=\"bravo-container\" class=\"bravo-container\"></div>\r\n                            <div class=\"reveal-content\">\r\n                                <div class=\"mini-cover\"></div>\r\n                                <div class=\"reveal-info\">\r\n                                    <h3 id=\"reveal-artist\">Artiste</h3>\r\n                                    <p id=\"reveal-title\">Titre</p>\r\n                                </div>\r\n                            </div>\r\n                            <div id=\"validation-controls\" class=\"validation-controls\">\r\n                                <button id=\"btn-wrong\" class=\"val-btn wrong\">Mauvaise R√©ponse ‚ùå</button>\r\n                                <button id=\"btn-correct\" class=\"val-btn correct\">Bonne R√©ponse ‚úÖ</button>\r\n                            </div>\r\n\r\n                            <button id=\"btn-next\" class=\"main-btn next hidden\">SUIVANT</button>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"hints-container hidden\" id=\"hints\">\r\n                    <button class=\"hint-btn\">Artiste 1</button>\r\n                    <button class=\"hint-btn\">Artiste 2</button>\r\n                    <button class=\"hint-btn\">Artiste 3</button>\r\n                    <button class=\"hint-btn\">Artiste 4</button>\r\n                </div>\r\n\r\n                <div class=\"teams-action\" id=\"teams-action\">\r\n                    <!-- Dynamic Team Blocks -->\r\n                    <div class=\"team-block\" id=\"block-team-1\">\r\n                        <button class=\"team-btn\" data-team=\"0\">√âQUIPE 1</button>\r\n                        <button id=\"joker-1\" class=\"joker-btn\" onclick=\"activateJoker(0)\">QUITTE OU DOUBLE üÉè</button>\r\n                    </div>\r\n                    <div class=\"team-block\" id=\"block-team-2\">\r\n                        <button class=\"team-btn\" data-team=\"1\">√âQUIPE 2</button>\r\n                        <button id=\"joker-2\" class=\"joker-btn\" onclick=\"activateJoker(1)\">QUITTE OU DOUBLE üÉè</button>\r\n                    </div>\r\n                    <div class=\"team-block hidden\" id=\"block-team-3\">\r\n                        <button class=\"team-btn\" data-team=\"2\">√âQUIPE 3</button>\r\n                        <button id=\"joker-3\" class=\"joker-btn\" onclick=\"activateJoker(2)\">QUITTE OU DOUBLE üÉè</button>\r\n                    </div>\r\n                    <div class=\"team-block hidden\" id=\"block-team-4\">\r\n                        <button class=\"team-btn\" data-team=\"3\">√âQUIPE 4</button>\r\n                        <button id=\"joker-4\" class=\"joker-btn\" onclick=\"activateJoker(3)\">QUITTE OU DOUBLE üÉè</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </section>\r\n\r\n        <!-- Screen Player (Mobile Interface) -->\r\n        <section id=\"screen-player\" class=\"screen\">\r\n            <div id=\"player-lobby\" class=\"player-lobby\">\r\n                <h2 class=\"glow-text mini\">Rejoindre</h2>\r\n                <input type=\"text\" id=\"input-room-code\" placeholder=\"CODE SALON (4 lettres)\" maxlength=\"4\"\r\n                    class=\"room-input\">\r\n                <select id=\"select-team-join\" class=\"team-select\">\r\n                    <option value=\"0\">√âQUIPE 1</option>\r\n                    <option value=\"1\">√âQUIPE 2</option>\r\n                    <option value=\"2\">√âQUIPE 3</option>\r\n                    <option value=\"3\">√âQUIPE 4</option>\r\n                </select>\r\n                <button id=\"btn-join-room\" class=\"main-btn primary\">REJOINDRE LE JEU</button>\r\n            </div>\r\n\r\n            <div id=\"player-game\" class=\"player-game hidden\">\r\n                <div id=\"waiting-msg\" class=\"waiting-msg\">Attente de la musique...</div>\r\n\r\n                <button id=\"btn-player-buzz\" class=\"huge-buzz-btn hidden\">\r\n                    <span>BUZZ !</span>\r\n                </button>\r\n\r\n                <div id=\"player-choices\" class=\"player-choices hidden\">\r\n                    <button class=\"choice-btn\" data-idx=\"0\">A</button>\r\n                    <button class=\"choice-btn\" data-idx=\"1\">B</button>\r\n                    <button class=\"choice-btn\" data-idx=\"2\">C</button>\r\n                    <button class=\"choice-btn\" data-idx=\"3\">D</button>\r\n                </div>\r\n            </div>\r\n        </section>\r\n\r\n        <!-- Results/Podium Screen -->\r\n        <section id=\"screen-results\" class=\"screen hidden\">\r\n            <div class=\"results-container glass\">\r\n                <div class=\"trophy-glow\"></div>\r\n                <div class=\"podium-header\">\r\n                    <span class=\"winner-label\">üèÜ VICTOIRE üèÜ</span>\r\n                    <h1 id=\"winner-name\">NOM DE L'√âQUIPE</h1>\r\n                    <p id=\"winner-message\" class=\"winner-message\">F√©licitations pour cette performance incroyable !\r\n                    </p>\r\n                </div>\r\n\r\n                <div id=\"final-podium\" class=\"final-podium\">\r\n                    <!-- Sorted scores appear here -->\r\n                </div>\r\n\r\n                <div class=\"podium-comfort\">\r\n                    <p id=\"comfort-message\">Pas de soucis, l'important c'est de participer ! üòâ</p>\r\n                </div>\r\n\r\n                <div class=\"results-actions\">\r\n                    <button onclick=\"restartGame()\" class=\"main-btn primary\">REJOUER üîÑ</button>\r\n                    <button onclick=\"window.location.reload()\" class=\"nav-btn\">ACCUEIL</button>\r\n                </div>\r\n            </div>\r\n        </section>\r\n\r\n    </main>\r\n\r\n    <!-- Modal for Team Creation -->\r\n    <div id=\"modal-teams\" class=\"modal\">\r\n        <div class=\"modal-content glass\">\r\n            <h2>Configuration des √âquipes</h2>\r\n            <div class=\"team-count-selector\">\r\n                <label>Nombre d'√©quipes :</label>\r\n                <div class=\"count-btns\">\r\n                    <button class=\"count-btn active\" data-count=\"2\">2</button>\r\n                    <button class=\"count-btn\" data-count=\"3\">3</button>\r\n                    <button class=\"count-btn\" data-count=\"4\">4</button>\r\n                </div>\r\n            </div>\r\n            <div class=\"team-inputs\">\r\n                <input type=\"text\" id=\"input-team-1\" placeholder=\"√âquipe 1...\" value=\"√âquipe 1\">\r\n                <input type=\"text\" id=\"input-team-2\" placeholder=\"√âquipe 2...\" value=\"√âquipe 2\">\r\n                <input type=\"text\" id=\"input-team-3\" class=\"hidden\" placeholder=\"√âquipe 3...\" value=\"√âquipe 3\">\r\n                <input type=\"text\" id=\"input-team-4\" class=\"hidden\" placeholder=\"√âquipe 4...\" value=\"√âquipe 4\">\r\n            </div>\r\n            <button id=\"btn-start-game\" class=\"main-btn primary\">C'est parti !</button>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Firebase SDK (Compat) -->\r\n    <script src=\"https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js\"></script>\r\n    <script src=\"https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js\"></script>\r\n\r\n    <div id=\"debug-log\"\r\n        style=\"position: fixed; bottom: 0; left: 0; width: 100%; background: rgba(0,0,0,0.8); color: lime; font-family: monospace; font-size: 10px; z-index: 10000; pointer-events: none; max-height: 50px; overflow: hidden; padding: 2px;\">\r\n    </div>\r\n\r\n\r\n    <script src=\"firebase-config.js?v=2026_v15\"></script>\r\n    <script src=\"script.js?v=2026_v15\"></script>\r\n</body>\r\n\r\n</html>\r\n```"},{"path":"script.js","content":"const logDebug = (msg) => {\r\n    console.log(msg);\r\n    const logEl = document.getElementById('debug-log');\r\n    if (logEl) {\r\n        logEl.innerHTML = `[${new Date().toLocaleTimeString()}] ${msg}<br>` + logEl.innerHTML;\r\n    }\r\n};\r\n\r\nconst checkFirebase = () => {\r\n    if (typeof firebase === 'undefined') return { ok: false, msg: 'Firebase Script non charg√©' };\r\n    if (!firebase.apps || firebase.apps.length === 0) return { ok: false, msg: 'Firebase non initialis√©' };\r\n    return { ok: true, msg: 'Firebase OK' };\r\n};\r\n\r\nlogDebug('Script loaded v2026_v15');\r\nlogDebug('Diagnostic: ' + checkFirebase().msg);\r\n\r\n// Global Error Handler for remote debugging\r\nwindow.onerror = function (msg, url, lineNo, columnNo, error) {\r\n    logDebug(`ERROR: ${msg} line:${lineNo} col:${columnNo}`);\r\n    return false;\r\n};\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    logDebug('DOM Content Loaded');\r\n    const state = {\r\n        screen: 'home',\r\n        teams: [\r\n            { name: '√âquipe 1', score: 0 },\r\n            { name: '√âquipe 2', score: 0 },\r\n            { name: '√âquipe 3', score: 0 },\r\n            { name: '√âquipe 4', score: 0 }\r\n        ],\r\n        teamCount: 2,\r\n        currentTheme: null,\r\n        timer: 30,\r\n        interval: null,\r\n        isPlaying: false,\r\n        currentSong: null,\r\n        round: 0,\r\n        maxRounds: 50,\r\n        playedSongs: [],\r\n        failedSongs: [], // Track broken links to avoid them\r\n        streakTeam: null,\r\n        streakCount: 0,\r\n        currentModifier: null,\r\n        mysteryRate: 1.0,\r\n        speedBonusActive: false,\r\n        winningTeam: null,\r\n        jokers: [true, true, true, true],\r\n        activeJoker: null,\r\n\r\n        // Multiplayer State\r\n        role: null, // 'host' or 'player'\r\n        roomId: null,\r\n        gameMode: 'oral', // 'oral' or 'buttons'\r\n        myTeamIdx: null,\r\n        roomRef: null,\r\n\r\n        songs: {\r\n\r\n            '80s': [\r\n                { artist: 'Michael Jackson', title: 'Billie Jean', hints: ['Prince', 'Michael Jackson', 'Lionel Richie', 'Rick James'] },\r\n                { artist: 'A-ha', title: 'Take On Me', hints: ['A-ha', 'Depeche Mode', 'Duran Duran', 'Erasure'] },\r\n                { artist: 'Madonna', title: 'Like a Virgin', hints: ['Madonna', 'Cyndi Lauper', 'Whitney Houston', 'Cher'] },\r\n                { artist: 'Queen', title: 'Another One Bites the Dust', hints: ['Queen', 'The Who', 'Pink Floyd', 'Yes'] },\r\n                { artist: 'Prince', title: 'Purple Rain', hints: ['Prince', 'Rick James', 'Morris Day', 'Michael Jackson'] },\r\n                { artist: 'Wham!', title: 'Wake Me Up Before You Go-Go', hints: ['Wham!', 'Culture Club', 'Spandau Ballet', 'Erasure'] },\r\n                { artist: 'Cyndi Lauper', title: 'Girls Just Want to Have Fun', hints: ['Cyndi Lauper', 'Madonna', 'The Go-Go\\'s', 'Blondie'] },\r\n                { artist: 'Journey', title: 'Don\\'t Stop Believin\\'', hints: ['Journey', 'Foreigner', 'Boston', 'Styx'] },\r\n                { artist: 'Eurythmics', title: 'Sweet Dreams', hints: ['Eurythmics', 'Yazoo', 'Soft Cell', 'Depeche Mode'] },\r\n                { artist: 'The Police', title: 'Every Breath You Take', hints: ['The Police', 'U2', 'Sting', 'The Cars'] },\r\n                { artist: 'Bon Jovi', title: 'Livin\\' on a Prayer', hints: ['Bon Jovi', 'Guns N\\' Roses', 'Def Leppard', 'Poison'] },\r\n                { artist: 'Whitney Houston', title: 'I Wanna Dance with Somebody', hints: ['Whitney Houston', 'Tina Turner', 'Chaka Khan', 'Diana Ross'] },\r\n                { artist: 'Guns N\\' Roses', title: 'Sweet Child O\\' Mine', hints: ['Guns N\\' Roses', 'Aerosmith', 'Metallica', 'M√∂tley Cr√ºe'] },\r\n                { artist: 'Tears for Fears', title: 'Everybody Wants to Rule the World', hints: ['Tears for Fears', 'Simple Minds', 'The Cure', 'New Order'] },\r\n                { artist: 'U2', title: 'With or Without You', hints: ['U2', 'The Smiths', 'Echo & the Bunnymen', 'R.E.M.'] },\r\n                { artist: 'Lionel Richie', title: 'All Night Long', hints: ['Lionel Richie', 'Stevie Wonder', 'Kool & The Gang', 'Earth, Wind & Fire'] },\r\n                { artist: 'Simple Minds', title: 'Don\\'t You (Forget About Me)', hints: ['Simple Minds', 'The Psychedelic Furs', 'Echo & the Bunnymen', 'The Cure'] },\r\n                { artist: 'Duran Duran', title: 'Hungry Like the Wolf', hints: ['Duran Duran', 'Spandau Ballet', 'The Human League', 'ABC'] },\r\n                { artist: 'Survivor', title: 'Eye of the Tiger', hints: ['Survivor', 'Europe', 'Van Halen', 'Asia'] },\r\n                { artist: 'Phil Collins', title: 'In the Air Tonight', hints: ['Phil Collins', 'Peter Gabriel', 'Genesis', 'Steve Winwood'] },\r\n                { artist: 'Bryan Adams', title: 'Summer of \\'69', hints: ['Bryan Adams', 'Bruce Springsteen', 'John Mellencamp', 'Tom Petty'] },\r\n                { artist: 'Bruce Springsteen', title: 'Born in the U.S.A.', hints: ['Bruce Springsteen', 'Bob Seger', 'John Mellencamp', 'Billy Joel'] },\r\n                { artist: 'Dexys Midnight Runners', title: 'Come On Eileen', hints: ['Dexys Midnight Runners', 'The Specials', 'Madness', 'The Beat'] },\r\n                { artist: 'Culture Club', title: 'Karma Chameleon', hints: ['Culture Club', 'Wham!', 'Duran Duran', 'Thompson Twins'] },\r\n                { artist: 'Rick Astley', title: 'Never Gonna Give You Up', hints: ['Rick Astley', 'Kylie Minogue', 'Jason Donovan', 'Bananarama'] },\r\n                { artist: 'Van Halen', title: 'Jump', hints: ['Van Halen', 'Europe', 'Quiet Riot', 'Skid Row'] },\r\n                { artist: 'Kim Wilde', title: 'Kids in America', hints: ['Kim Wilde', 'Nena', 'Toyah', 'Hazel O\\'Connor'] },\r\n                { artist: 'Talking Heads', title: 'Burning Down the House', hints: ['Talking Heads', 'The B-52\\'s', 'Television', 'The Cars'] },\r\n                { artist: 'Bananarama', title: 'Cruel Summer', hints: ['Bananarama', 'The Bangles', 'Belle Stars', 'Go-Go\\'s'] },\r\n                { artist: 'The Bangles', title: 'Walk Like an Egyptian', hints: ['The Bangles', 'The Go-Go\\'s', 'Bananarama', 'The Waitresses'] },\r\n                { artist: 'Starship', title: 'We Built This City', hints: ['Starship', 'Jefferson Starship', 'REO Speedwagon', 'Heart'] },\r\n                { artist: 'Pet Shop Boys', title: 'West End Girls', hints: ['Pet Shop Boys', 'Erasure', 'The Communards', 'New Order'] },\r\n                { artist: 'Soft Cell', title: 'Tainted Love', hints: ['Soft Cell', 'Depeche Mode', 'Human League', 'Visage'] },\r\n                { artist: 'Spandau Ballet', title: 'True', hints: ['Spandau Ballet', 'Duran Duran', 'ABC', 'Ultravox'] },\r\n                { artist: 'George Michael', title: 'Careless Whisper', hints: ['George Michael', 'Sting', 'Boy George', 'Elton John'] },\r\n                { artist: 'Depeche Mode', title: 'Enjoy the Silence', hints: ['Depeche Mode', 'New Order', 'The Cure', 'Pet Shop Boys'] },\r\n                { artist: 'The Smiths', title: 'There Is a Light That Never Goes Out', hints: ['The Smiths', 'Morrissey', 'The Cure', 'Joy Division'] },\r\n                { artist: 'Modern Talking', title: 'You\\'re My Heart, You\\'re My Soul', hints: ['Modern Talking', 'Bad Boys Blue', 'C.C. Catch', 'Sandra'] },\r\n                { artist: 'Scorpions', title: 'Still Loving You', hints: ['Scorpions', 'Whitesnake', 'Deep Purple', 'Iron Maiden'] },\r\n                { artist: 'Alphaville', title: 'Forever Young', hints: ['Alphaville', 'Laura Branigan', 'Berlin', 'A-ha'] },\r\n                { artist: 'Europe', title: 'The Final Countdown', hints: ['Europe', 'Survivor', 'Asia', 'Boston'] },\r\n                { artist: 'Tina Turner', title: 'What\\'s Love Got to Do with It', hints: ['Tina Turner', 'Aretha Franklin', 'Diana Ross', 'Gloria Gaynor'] },\r\n                { artist: 'ZZ Top', title: 'Gimme All Your Lovin\\'', hints: ['ZZ Top', 'Van Halen', 'AC/DC', 'Def Leppard'] },\r\n                { artist: 'Katrina and the Waves', title: 'Walking on Sunshine', hints: ['Katrina and the Waves', 'Cyndi Lauper', 'Tiffany', 'Belinda Carlisle'] },\r\n                { artist: 'Berlin', title: 'Take My Breath Away', hints: ['Berlin', 'Heart', 'Roxette', 'Laura Branigan'] },\r\n                { artist: 'Foreigner', title: 'I Want to Know What Love Is', hints: ['Foreigner', 'Chicago', 'TOTO', 'REO Speedwagon'] },\r\n                { artist: 'Toto', title: 'Africa', hints: ['Toto', 'Asia', 'Genesis', 'Fleetwood Mac'] },\r\n                { artist: 'Michael Sembello', title: 'Maniac', hints: ['Michael Sembello', 'Irene Cara', 'Kenny Loggins', 'Giorgio Moroder'] },\r\n                { artist: 'Kenny Loggins', title: 'Footloose', hints: ['Kenny Loggins', 'Footloose', 'Flashdance', 'Dirty Dancing'] },\r\n                { artist: 'Billy Idol', title: 'Rebel Yell', hints: ['Billy Idol', 'Alice Cooper', 'Iggy Pop', 'David Bowie'] }\r\n            ],\r\n            'poprock': [\r\n                { artist: 'Nirvana', title: 'Smells Like Teen Spirit', hints: ['Nirvana', 'Pearl Jam', 'Soundgarden', 'Alice in Chains'] },\r\n                { artist: 'Queen', title: 'Bohemian Rhapsody', hints: ['Queen', 'The Rolling Stones', 'Led Zeppelin', 'Pink Floyd'] },\r\n                { artist: 'Coldplay', title: 'Viva la Vida', hints: ['Coldplay', 'Snow Patrol', 'Keane', 'The Fray'] },\r\n                { artist: 'Red Hot Chili Peppers', title: 'Californication', hints: ['RHCP', 'Foo Fighters', 'Incubus', 'Audioslave'] },\r\n                { artist: 'Green Day', title: 'Basket Case', hints: ['Green Day', 'The Offspring', 'Blink-182', 'Sum 41'] },\r\n                { artist: 'The Killers', title: 'Mr. Brightside', hints: ['The Killers', 'The Strokes', 'Franz Ferdinand', 'Interpol'] },\r\n                { artist: 'Linkin Park', title: 'In the End', hints: ['Linkin Park', 'Evanescence', 'Papa Roach', 'Limp Bizkit'] },\r\n                { artist: 'Radiohead', title: 'Creep', hints: ['Radiohead', 'Muse', 'Placebo', 'Blur'] },\r\n                { artist: 'Evanescence', title: 'Bring Me to Life', hints: ['Evanescence', 'Within Temptation', 'Nightwish', 'Lacuna Coil'] },\r\n                { artist: 'Panic! At The Disco', title: 'I Write Sins Not Tragedies', hints: ['P!ATD', 'Fall Out Boy', 'Paramore', 'My Chemical Romance'] },\r\n                { artist: 'Fall Out Boy', title: 'Sugar, We\\'re Goin Down', hints: ['Fall Out Boy', 'Panic! At The Disco', 'Yellowcard', 'All Time Low'] },\r\n                { artist: 'Paramore', title: 'Misery Business', hints: ['Paramore', 'Flyleaf', 'Tonight Alive', 'Hey Monday'] },\r\n                { artist: 'My Chemical Romance', title: 'Welcome to the Black Parade', hints: ['MCR', 'The Used', 'Taking Back Sunday', 'Brand New'] },\r\n                { artist: 'Imagine Dragons', title: 'Believer', hints: ['Imagine Dragons', 'OneRepublic', 'Bastille', 'X Ambassadors'] },\r\n                { artist: 'Maroon 5', title: 'Sugar', hints: ['Maroon 5', 'Train', 'The Script', 'Matchbox Twenty'] },\r\n                { artist: 'The White Stripes', title: 'Seven Nation Army', hints: ['The White Stripes', 'The Black Keys', 'The Hives', 'The Vines'] },\r\n                { artist: 'Arctic Monkeys', title: 'Do I Wanna Know?', hints: ['Arctic Monkeys', 'The Last Shadow Puppets', 'Kasabian', 'Miles Kane'] },\r\n                { artist: 'Muse', title: 'Uprising', hints: ['Muse', 'Radiohead', 'Thirty Seconds to Mars', 'Royal Blood'] },\r\n                { artist: 'Foo Fighters', title: 'Everlong', hints: ['Foo Fighters', 'Nirvana', 'Pearl Jam', 'The Smashing Pumpkins'] },\r\n                { artist: 'Kings of Leon', title: 'Use Somebody', hints: ['Kings of Leon', 'The Killers', 'The Temper Trap', 'Phoenix'] },\r\n                { artist: 'OneRepublic', title: 'Counting Stars', hints: ['OneRepublic', 'Imagine Dragons', 'Bastille', 'Awolnation'] },\r\n                { artist: 'The Fray', title: 'How to Save a Life', hints: ['The Fray', 'Five for Fighting', 'Keane', 'Snow Patrol'] },\r\n                { artist: 'Keane', title: 'Somewhere Only We Know', hints: ['Keane', 'Coldplay', 'Travis', 'Snow Patrol'] },\r\n                { artist: 'Snow Patrol', title: 'Chasing Cars', hints: ['Snow Patrol', 'Keane', 'The Script', 'Kodaline'] },\r\n                { artist: 'The Script', title: 'Hall of Fame', hints: ['The Script', 'The Fray', 'Train', 'Maroon 5'] },\r\n                { artist: 'Train', title: 'Hey, Soul Sister', hints: ['Train', 'Maroon 5', 'Jason Mraz', 'Phillip Phillips'] },\r\n                { artist: 'Nickelback', title: 'How You Remind Me', hints: ['Nickelback', 'Daughtry', 'Theory of a Deadman', 'Seether'] },\r\n                { artist: '30 Seconds to Mars', title: 'The Kill', hints: ['30STM', 'Muse', 'Linkin Park', 'Placebo'] },\r\n                { artist: 'Good Charlotte', title: 'Lifestyles of the Rich & Famous', hints: ['Good Charlotte', 'Simple Plan', 'Sum 41', 'New Found Glory'] },\r\n                { artist: 'Simple Plan', title: 'Welcome to My Life', hints: ['Simple Plan', 'Good Charlotte', 'All Time Low', 'Yellowcard'] },\r\n                { artist: 'Sum 41', title: 'Fat Lip', hints: ['Sum 41', 'Blink-182', 'Green Day', 'Zebrahead'] },\r\n                { artist: 'Blink-182', title: 'All the Small Things', hints: ['Blink-182', 'Sum 41', 'Green Day', 'New Found Glory'] },\r\n                { artist: 'Avril Lavigne', title: 'Complicated', hints: ['Avril Lavigne', 'Michelle Branch', 'Ashlee Simpson', 'Vanessa Carlton'] },\r\n                { artist: 'Hozier', title: 'Take Me to Church', hints: ['Hozier', 'Rag\\'n\\'Bone Man', 'George Ezra', 'James Bay'] },\r\n                { artist: 'Twenty One Pilots', title: 'Stressed Out', hints: ['TOP', 'Imagine Dragons', 'Panic! At The Disco', 'AJR'] },\r\n                { artist: 'The Black Keys', title: 'Lonely Boy', hints: ['The Black Keys', 'The White Stripes', 'Gary Clark Jr.', 'Cage the Elephant'] },\r\n                { artist: 'No Doubt', title: 'Don\\'t Speak', hints: ['No Doubt', 'Gwen Stefani', 'Garbage', 'The Cardigans'] },\r\n                { artist: 'Bastille', title: 'Pompeii', hints: ['Bastille', 'Two Door Cinema Club', 'Alt-J', 'The 1975'] },\r\n                { artist: 'The 1975', title: 'Somebody Else', hints: ['The 1975', 'Pale Waves', 'LANY', 'The Neighbourhood'] },\r\n                { artist: 'Foster The People', title: 'Pumped Up Kicks', hints: ['Foster The People', 'Grouplove', 'Phoenix', 'Two Door Cinema Club'] },\r\n                { artist: 'Florence + The Machine', title: 'Dog Days Are Over', hints: ['Florence', 'Bat for Lashes', 'Marina', 'Lykke Li'] },\r\n                { artist: 'MGMT', title: 'Kids', hints: ['MGMT', 'Empire of the Sun', 'Passion Pit', 'Phoenix'] },\r\n                { artist: 'Phoenix', title: 'Lisztomania', hints: ['Phoenix', 'Two Door Cinema Club', 'Vampire Weekend', 'Friendly Fires'] },\r\n                { artist: 'Vampire Weekend', title: 'A-Punk', hints: ['Vampire Weekend', 'The Shins', 'Death Cab for Cutie', 'Local Natives'] },\r\n                { artist: 'Bon Iver', title: 'Holocene', hints: ['Bon Iver', 'Fleet Foxes', 'Iron & Wine', 'The National'] },\r\n                { artist: 'The National', title: 'Bloodbuzz Ohio', hints: ['The National', 'Interpol', 'Editors', 'Future Islands'] },\r\n                { artist: 'Tame Impala', title: 'The Less I Know the Better', hints: ['Tame Impala', 'Unknown Mortal Orchestra', 'Glass Animals', 'Pond'] },\r\n                { artist: 'The Strokes', title: 'Last Nite', hints: ['The Strokes', 'The Libertines', 'The Vines', 'The Hives'] },\r\n                { artist: 'The Offspring', title: 'Self Esteem', hints: ['The Offspring', 'Bad Religion', 'Pennywise', 'Social Distortion'] },\r\n                { artist: 'U2', title: 'Beautiful Day', hints: ['U2', 'Coldplay', 'The Police', 'Simple Minds'] }\r\n            ],\r\n            'disney': [\r\n                { artist: 'Debbie Davis', title: 'L\\'histoire de la vie', hints: ['Le Roi Lion', 'Aladdin', 'Tarzan', 'Mulan'] },\r\n                { artist: 'Karine Costa', title: 'Ce r√™ve bleu', hints: ['Aladdin', 'Cendrillon', 'La Belle au bois dormant', 'Hercule'] },\r\n                { artist: 'Henri Salvador', title: 'Sous l\\'oc√©an', hints: ['La Petite Sir√®ne', 'Pinocchio', 'Peter Pan', 'Dumbo'] },\r\n                { artist: 'Laura Mayne', title: 'L\\'air du vent', hints: ['Pocahontas', 'Mulan', 'La Princesse et la Grenouille', 'Vaiana'] },\r\n                { artist: 'Lucie Dol√®ne', title: 'Histoire √©ternelle', hints: ['La Belle et la B√™te', 'Blanche-Neige', 'Cendrillon', 'Bambi'] },\r\n                { artist: 'Richard Darbois', title: 'Prince Ali', hints: ['Aladdin', 'Hercule', 'Le G√©nie', 'Mulan'] },\r\n                { artist: 'Anthony Kavanagh', title: 'Je suis ton meilleur ami', hints: ['Aladdin', 'Toy Story', 'Hercule', 'Tarzan'] },\r\n                { artist: 'Dimitri Rougeul', title: 'Je voudrais d√©j√† √™tre roi', hints: ['Le Roi Lion', 'Bambi', 'Pinocchio', 'Peter Pan'] },\r\n                { artist: 'Phil Collins', title: 'Je m\\'en vais', hints: ['Fr√®re des Ours', 'Tarzan', 'Le Roi Lion', 'Atlantide'] },\r\n                { artist: 'Ana√Øs Delva', title: 'Lib√©r√©e, d√©livr√©e', hints: ['La Reine des Neiges', 'Raiponce', 'Vaiana', 'Rebelle'] },\r\n                { artist: 'Maeva M√©line', title: 'O√π est la vraie vie ?', hints: ['Raiponce', 'La Reine des Neiges', 'Cendrillon', 'Mulan'] },\r\n                { artist: 'Cerise Calixte', title: 'Le Bleu lumi√®re', hints: ['Vaiana', 'Pocahontas', 'Mulan', 'Tarzan'] },\r\n                { artist: 'Hercule Cast', title: 'De z√©ro en h√©ros', hints: ['Hercule', 'Mulan', 'Tarzan', 'Aladdin'] },\r\n                { artist: 'Jean-Philippe Puymartin', title: 'Je suis ton ami', hints: ['Toy Story', 'Monstres & Cie', 'Cars', 'Ratatouille'] },\r\n                { artist: 'Lauri Mayne', title: 'Comme un homme', hints: ['Mulan', 'Pocahontas', 'Hercule', 'Tarzan'] },\r\n                { artist: 'Emmanuel Dahl', title: 'Je n\\'ai pas d\\'amour', hints: ['Hercule', 'Aladdin', 'Le Roi Lion', 'La Belle et la B√™te'] },\r\n                { artist: 'Hakuna Matata', title: 'Hakuna Matata', hints: ['Le Roi Lion', 'Bambi', 'Peter Pan', 'Aladdin'] },\r\n                { artist: 'Francis Lalanne', title: 'Rien qu\\'un jour', hints: ['Le Bossu de Notre-Dame', 'Hercule', 'Tarzan', 'Mulan'] },\r\n                { artist: 'Mimi F√©lixine', title: 'Jamais je n\\'avouerai', hints: ['Hercule', 'Mulan', 'La Belle et la B√™te', 'Aladdin'] },\r\n                { artist: 'Jean Stout', title: 'Il en faut peu pour √™tre heureux', hints: ['Le Livre de la Jungle', 'Le Roi Lion', 'Robin des Bois', 'Dumbo'] },\r\n                { artist: 'Claude Bertrand', title: 'Petit-papa No√´l', hints: ['Disney No√´l', 'Mickey', 'Donald', 'Dingo'] },\r\n                { artist: 'Jos√© Bartel', title: 'Tout le monde veut devenir un cat', hints: ['Les Aristochats', 'Le Livre de la Jungle', 'Les 101 Dalmatiens', 'Dumbo'] },\r\n                { artist: 'Rachel Pignot', title: 'Un jour mon prince viendra', hints: ['Blanche-Neige', 'Cendrillon', 'La Belle au bois dormant', 'Bambi'] },\r\n                { artist: 'Dominique Poulain', title: 'Au pays d\\'Alice', hints: ['Alice au pays des merveilles', 'Cendrillon', 'Pinocchio', 'Bambi'] },\r\n                { artist: 'Christiane Legrand', title: 'Quand on prie la bonne √©toile', hints: ['Pinocchio', 'Peter Pan', 'Alice', 'Dumbo'] },\r\n                { artist: 'Michel Roux', title: 'Supercalifragilistic', hints: ['Mary Poppins', 'Le Livre de la Jungle', 'Alice', 'Peter Pan'] },\r\n                { artist: 'Roger Carel', title: 'Cruella d\\'enfer', hints: ['Les 101 Dalmatiens', 'Les Aristochats', 'Robin des Bois', 'Bambi'] },\r\n                { artist: 'G√©rard Rinaldi', title: 'Des gammes et des arp√®ges', hints: ['Les Aristochats', 'La Belle au bois dormant', 'Cendrillon', 'Bambi'] },\r\n                { artist: 'China Moses', title: 'Au bout du r√™ve', hints: ['La Princesse et la Grenouille', 'Vaiana', 'Mulan', 'Va√Øana'] },\r\n                { artist: 'Anthony Kavanagh', title: 'Bling-Bling', hints: ['Vaiana', 'Zootopie', 'Cars', 'Volt'] },\r\n                { artist: 'Charlotte Hervieux', title: 'Dans un autre monde', hints: ['La Reine des Neiges 2', 'Vaiana', 'Rebelle', 'Coco'] },\r\n                { artist: 'Dany Boon', title: 'En √©t√©', hints: ['La Reine des Neiges', 'Toy Story', 'Cars', 'Zootopie'] },\r\n                { artist: 'Michel Prudhomme', title: 'L\\'amour brille sous les √©toiles', hints: ['Le Roi Lion', 'Bambi', 'La Belle au bois dormant', 'Cendrillon'] },\r\n                { artist: 'S√©bastien Cast', title: 'Embrasse-la', hints: ['La Petite Sir√®ne', 'Aladdin', 'Hercule', 'Tarzan'] },\r\n                { artist: 'Patrick Fiori', title: 'L\\'air du vent (Duo)', hints: ['Pocahontas', 'Mulan', 'Vaiana', 'Kuzco'] },\r\n                { artist: 'Hocine', title: '√ätre un homme comme vous', hints: ['Le Livre de la Jungle 2', 'Le Roi Lion', 'Tarzan', 'Hercule'] },\r\n                { artist: 'Prisca Demarez', title: 'O√π t\\'en vas-tu ?', hints: ['La Reine des Neiges 2', 'Vaiana', 'Mulan', 'Pocahontas'] },\r\n                { artist: 'Camille Lou', title: 'L\\'empire des ombres', hints: ['Raiponce la s√©rie', 'La Reine des Neiges', 'Mulan', 'Brave'] },\r\n                { artist: 'Olaf Cast', title: 'Quand je serai plus grand', hints: ['La Reine des Neiges 2', 'Zootopie', 'Toy Story', 'Cars'] },\r\n                { artist: 'Hercule Muse', title: 'Le monde qui est le mien', hints: ['Hercule', 'Mulan', 'Aladdin', 'Tarzan'] },\r\n                { artist: 'Tarzan Cast', title: 'Entre deux mondes', hints: ['Tarzan', 'Le Roi Lion', 'Fr√®re des ours', 'Dinausore'] },\r\n                { artist: 'Phil Collins', title: 'Enfant de l\\'homme', hints: ['Tarzan', 'Kuzco', 'Atlantide', 'Treasure Planet'] },\r\n                { artist: 'Kuzco Cast', title: 'Un monde parfait', hints: ['Kuzco', 'Hercule', 'Aladdin', 'Mulan'] },\r\n                { artist: 'Megara Cast', title: 'Jamais je n\\'avouerai (Solo)', hints: ['Hercule', 'Aladdin', 'Mulan', 'Tarzan'] },\r\n                { artist: 'Nala Cast', title: 'Soyez pr√™tes', hints: ['Le Roi Lion', 'Hercule', 'Aladdin', 'Pinocchio'] },\r\n                { artist: 'Ursula Cast', title: 'Pauvres √¢mes en perdition', hints: ['La Petite Sir√®ne', 'Blanche-Neige', 'Cendrillon', 'Bambi'] },\r\n                { artist: 'Gaston Cast', title: 'Gaston', hints: ['La Belle et la B√™te', 'Hercule', 'Tarzan', 'Aladdin'] },\r\n                { artist: 'Vaiana Choers', title: 'Logo Te Pate', hints: ['Vaiana', 'Lilo & Stitch', 'Le Roi Lion', 'Tarzan'] },\r\n                { artist: 'Maui Cast', title: 'Pour les hommes', hints: ['Vaiana', 'Hercule', 'Tarzan', 'Zootopie'] },\r\n                { artist: 'Coco Cast', title: 'Un poco loco', hints: ['Coco', 'Encanto', 'Ratatouille', 'Luca'] }\r\n            ],\r\n            'rapfr': [\r\n                { artist: 'Ninho', title: 'Lettre √† une femme', hints: ['Ninho', 'Gazo', 'Tiakola', 'Jul'] },\r\n                { artist: 'Jul', title: 'Tchikita', hints: ['Jul', 'SCH', 'Naps', 'Soolking'] },\r\n                { artist: 'Gazo', title: 'DIE', hints: ['Gazo', 'Central Cee', 'Zola', 'Koba LaD'] },\r\n                { artist: 'Tiakola', title: 'Meuda', hints: ['Tiakola', 'Niska', 'Hamza', 'Gazo'] },\r\n                { artist: 'Naps', title: 'La Kiffance', hints: ['Naps', 'Jul', 'Soso Maness', 'L\\'Alg√©rino'] },\r\n\r\n                { artist: 'Orelsan', title: 'La Qu√™te', hints: ['Orelsan', 'Vald', 'Lomepal', 'Nekfeu'] },\r\n                { artist: 'Hamza', title: 'Fade Up', hints: ['Hamza', 'SCH', 'Zola', 'SDM'] },\r\n                { artist: 'SCH', title: 'Bande Organis√©e', hints: ['SCH', 'Jul', 'Naps', 'Soso Maness'] },\r\n                { artist: 'Ninho', title: 'VVS', hints: ['Ninho', 'Werenoi', 'Zola', 'PLK'] },\r\n                { artist: 'Dinos', title: 'Helsinki', hints: ['Dinos', 'Laylow', 'Lomepal', 'Josman'] },\r\n                { artist: 'Josman', title: 'Intro', hints: ['Josman', 'Dinos', 'Ziak', 'Vald'] },\r\n                { artist: 'Nekfeu', title: 'On verra', hints: ['Nekfeu', 'Lomepal', 'Orelsan', 'Damso'] },\r\n                { artist: 'Damso', title: 'Macarena', hints: ['Damso', 'Nekfeu', 'Booba', 'Shay'] },\r\n                { artist: 'Booba', title: '92i Veyron', hints: ['Booba', 'Kaaris', 'Lacrim', 'Rohff'] },\r\n                { artist: 'PLK', title: 'Petrouchka', hints: ['PLK', 'Soso Maness', 'Oboy', 'Zola'] },\r\n                { artist: 'Zola', title: 'Amber', hints: ['Zola', 'Gazo', 'Koba LaD', 'Maes'] },\r\n                { artist: 'Maes', title: 'Madrina', hints: ['Maes', 'Booba', 'Ninho', 'Lacrim'] },\r\n                { artist: 'Lacrim', title: 'AWA', hints: ['Lacrim', 'SCH', 'Kaaris', 'Booba'] },\r\n                { artist: 'Kaaris', title: 'Zoo', hints: ['Kaaris', 'Booba', 'Gims', 'Kalash Criminel'] },\r\n                { artist: 'Gims', title: 'Bella', hints: ['Gims', 'Dadju', 'Ninho', 'Soprano'] },\r\n                { artist: 'Dadju', title: 'Reine', hints: ['Dadju', 'Gims', 'Tayc', 'Franglish'] },\r\n                { artist: 'Tayc', title: 'Le Temps', hints: ['Tayc', 'Dadju', 'Burnaboy', 'Wizkid'] },\r\n                { artist: 'Burna Boy', title: 'Ye', hints: ['Burna Boy', 'Wizkid', 'Davido', 'Tayc'] },\r\n\r\n                { artist: 'Soprano', title: 'Cosmo', hints: ['Soprano', 'Gims', 'Black M', 'Lefa'] },\r\n                { artist: 'Lomepal', title: 'Trop beau', hints: ['Lomepal', 'Ang√®le', 'Eddy de Pretto', 'Orelsan'] },\r\n                { artist: 'Vald', title: 'D√©saccord√©', hints: ['Vald', 'Orelsan', 'Lorenzo', 'Alkpote'] },\r\n                { artist: 'Heuss l\\'Enfoir√©', title: 'Moulaga', hints: ['Heuss', 'Jul', 'Naps', 'SCH'] },\r\n                { artist: 'Soolking', title: 'Dalida', hints: ['Soolking', 'L\\'Alg√©rino', 'Gims', 'Dadju'] },\r\n                { artist: 'Heuss', title: 'Ne reviens pas', hints: ['Heuss', 'Gradur', 'Gambi', 'Zola'] },\r\n                { artist: 'Gambi', title: 'Popopop', hints: ['Gambi', 'Zola', 'Koba LaD', 'Gazo'] },\r\n                { artist: 'Koba LaD', title: 'Doudou', hints: ['Koba LaD', 'Gazo', 'Zola', 'Niska'] },\r\n                { artist: 'Niska', title: 'R√©seaux', hints: ['Niska', 'MHD', 'Gradur', 'Kalash'] },\r\n                { artist: 'MHD', title: 'Afro Trap Part.7', hints: ['MHD', 'Niska', 'Vegedream', 'Kalash'] },\r\n                { artist: 'Gradur', title: 'Sheguey 10', hints: ['Gradur', 'Niska', 'MHD', 'Kaaris'] },\r\n                { artist: 'PNL', title: 'Au DD', hints: ['PNL', 'DTF', 'Ademo', 'N.O.S'] },\r\n                { artist: 'Ademo', title: 'DA', hints: ['PNL', 'Booba', 'Nekfeu', 'Damso'] },\r\n                { artist: 'Jul', title: 'On m\\'appelle l\\'ovni', hints: ['Jul', 'SCH', 'Alonzo', 'Naps'] },\r\n                { artist: 'Alonzo', title: 'Tout va bien', hints: ['Alonzo', 'Naps', 'Jul', 'SCH'] },\r\n                { artist: 'Shay', title: 'PMW', hints: ['Shay', 'Aya Nakamura', 'Meryl', 'Ronisia'] },\r\n                { artist: 'Aya Nakamura', title: 'Djadja', hints: ['Aya Nakamura', 'Wejdene', 'Imen Es', 'Lyna Mahyem'] },\r\n                { artist: 'Rim\\'K', title: 'Air Max', hints: ['Rim\\'K', 'Ninho', '113', 'Lacrim'] },\r\n                { artist: 'Rohff', title: 'Qui est l\\'exemple ?', hints: ['Rohff', 'Booba', 'Kery James', 'Diam\\'s'] },\r\n                { artist: 'Diam\\'s', title: 'La Boulette', hints: ['Diam\\'s', 'Vitaa', 'Shy\\'m', 'Amel Bent'] },\r\n                { artist: 'Kery James', title: 'Musique N√®gre', hints: ['Kery James', 'Youssoupha', 'Medine', 'Lino'] },\r\n                { artist: 'Youssoupha', title: 'On se conna√Æt', hints: ['Youssoupha', 'Oxmo Puccino', 'Abd Al Malik', 'Disiz'] },\r\n                { artist: 'Oxmo Puccino', title: 'L\\'enfant seul', hints: ['Oxmo', 'IAM', 'NTM', 'Lunatic'] },\r\n                { artist: 'IAM', title: 'Demain, c\\'est loin', hints: ['IAM', 'NTM', 'Akhenaton', 'Shurik\\'n'] },\r\n                { artist: 'NTM', title: 'Laisse pas tra√Æner ton fils', hints: ['NTM', 'IAM', 'JoeyStarr', 'Kool Shen'] },\r\n                { artist: '113', title: 'Tonton du bled', hints: ['113', 'Rim\\'K', 'Mokob√©', 'AP'] },\r\n                { artist: 'Assassin', title: 'Esclave de votre soci√©t√©', hints: ['Assassin', 'Rockin\\' Squat', 'IAM', 'NTM'] }\r\n            ],\r\n            'rapus': [\r\n                { artist: 'Drake', title: 'God\\'s Plan', hints: ['Drake', 'Kanye West', 'Kendrick Lamar', 'J. Cole'] },\r\n                { artist: 'Kendrick Lamar', title: 'HUMBLE.', hints: ['Kendrick', 'Drake', 'Future', 'A$AP Rocky'] },\r\n                { artist: 'Eminem', title: 'Lose Yourself', hints: ['Eminem', '50 Cent', 'Dr. Dre', 'Snoop Dogg'] },\r\n                { artist: 'The Weeknd', title: 'Blinding Lights', hints: ['The Weeknd', 'Bruno Mars', 'Justin Bieber', 'Post Malone'] },\r\n                { artist: 'Travis Scott', title: 'SICKO MODE', hints: ['Travis Scott', 'Drake', 'Young Thug', 'Quavo'] },\r\n                { artist: 'Post Malone', title: 'Rockstar', hints: ['Post Malone', '21 Savage', 'Ty Dolla $ign', 'Swae Lee'] },\r\n                { artist: 'Future', title: 'Mask Off', hints: ['Future', 'Young Thug', '21 Savage', 'Migos'] },\r\n                { artist: 'Young Thug', title: 'Go Crazy', hints: ['Young Thug', 'Chris Brown', 'Gunna', 'Lil Baby'] },\r\n                { artist: 'Lil Baby', title: 'Drip Too Hard', hints: ['Lil Baby', 'Gunna', 'Lil Durk', 'Roddy Ricch'] },\r\n                { artist: 'Roddy Ricch', title: 'The Box', hints: ['Roddy Ricch', 'Lil Baby', 'DaBaby', 'Megan Thee Stallion'] },\r\n                { artist: 'Cardi B', title: 'Bodak Yellow', hints: ['Cardi B', 'Nicki Minaj', 'Megan Thee Stallion', 'Doja Cat'] },\r\n                { artist: 'Nicki Minaj', title: 'Super Freaky Girl', hints: ['Nicki Minaj', 'Cardi B', 'Ice Spice', 'Latto'] },\r\n                { artist: 'Doja Cat', title: 'Say So', hints: ['Doja Cat', 'SZA', 'Ariana Grande', 'Lizzo'] },\r\n                { artist: 'SZA', title: 'Kill Bill', hints: ['SZA', 'Summer Walker', 'H.E.R.', 'Jhen√© Aiko'] },\r\n                { artist: 'Summer Walker', title: 'Girls Need Love', hints: ['Summer Walker', 'SZA', 'Kehlani', 'Teyana Taylor'] },\r\n                { artist: 'Chris Brown', title: 'No Guidance', hints: ['Chris Brown', 'Drake', 'Usher', 'Trey Songz'] },\r\n                { artist: 'Usher', title: 'Yeah!', hints: ['Usher', 'Chris Brown', 'Ne-Yo', 'Justin Timberlake'] },\r\n                { artist: 'Ne-Yo', title: 'Miss Independent', hints: ['Ne-Yo', 'Usher', 'T-Pain', 'Mario'] },\r\n                { artist: 'T-Pain', title: 'Buy U a Drank', hints: ['T-Pain', 'Akon', 'Lil Wayne', 'Kanye West'] },\r\n                { artist: 'Akon', title: 'Smack That', hints: ['Akon', 'T-Pain', '50 Cent', 'Eminem'] },\r\n                { artist: '50 Cent', title: 'In Da Club', hints: ['50 Cent', 'Eminem', 'Dr. Dre', 'The Game'] },\r\n                { artist: 'Dr. Dre', title: 'Still D.R.E.', hints: ['Dr. Dre', 'Snoop Dogg', 'Ice Cube', 'Tupac'] },\r\n                { artist: 'Snoop Dogg', title: 'Drop It Like It\\'s Hot', hints: ['Snoop Dogg', 'Pharrell', 'Jay-Z', 'Nas'] },\r\n                { artist: 'Jay-Z', title: 'Empire State of Mind', hints: ['Jay-Z', 'Nas', 'Kanye West', 'Kendrick Lamar'] },\r\n                { artist: 'Kanye West', title: 'Gold Digger', hints: ['Kanye West', 'Jay-Z', 'Lil Wayne', 'Drake'] },\r\n                { artist: 'Lil Wayne', title: 'A Milli', hints: ['Lil Wayne', 'Drake', 'Nicki Minaj', '2 Chainz'] },\r\n                { artist: '2 Chainz', title: 'I\\'m Different', hints: ['2 Chainz', 'Rick Ross', 'Gucci Mane', 'Quavo'] },\r\n                { artist: 'Migos', title: 'Bad and Boujee', hints: ['Migos', 'Future', 'Travis Scott', 'Young Thug'] },\r\n                { artist: 'Cardi B', title: 'WAP', hints: ['Cardi B', 'Megan Thee Stallion', 'Nicki Minaj', 'Ice Spice'] },\r\n\r\n                { artist: 'Pop Smoke', title: 'Dior', hints: ['Pop Smoke', 'Fivio Foreign', 'Lil Tjay', 'Polo G'] },\r\n                { artist: 'Juice WRLD', title: 'Lucid Dreams', hints: ['Juice WRLD', 'XXXTentacion', 'Lil Peep', 'Post Malone'] },\r\n                { artist: 'XXXTentacion', title: 'SAD!', hints: ['XXXTentacion', 'Juice WRLD', 'Lil Uzi Vert', 'Ski Mask'] },\r\n                { artist: 'Lil Uzi Vert', title: 'XO Tour Llif3', hints: ['Lil Uzi Vert', 'Playboi Carti', 'Young Thug', 'Gunna'] },\r\n                { artist: 'Playboi Carti', title: 'Magnolia', hints: ['Playboi Carti', 'Uzi', 'Rocky', 'Future'] },\r\n                { artist: 'A$AP Rocky', title: 'Praise the Lord', hints: ['Rocky', 'Tyler, The Creator', 'Schoolboy Q', 'Vince Staples'] },\r\n                { artist: 'Tyler, The Creator', title: 'EARFQUAKE', hints: ['Tyler', 'Frank Ocean', 'Earl Sweatshirt', 'Steve Lacy'] },\r\n                { artist: 'Frank Ocean', title: 'Pink + White', hints: ['Frank Ocean', 'Daniel Caesar', 'Brent Faiyaz', 'Giveon'] },\r\n                { artist: 'Brent Faiyaz', title: 'Trust', hints: ['Brent Faiyaz', 'SZA', 'Lucky Daye', 'SiR'] },\r\n                { artist: 'Daniel Caesar', title: 'Best Part', hints: ['Daniel Caesar', 'H.E.R.', 'Khalid', 'Joji'] },\r\n                { artist: 'Khalid', title: 'Location', hints: ['Khalid', 'Post Malone', 'Bazzi', 'Lauv'] },\r\n                { artist: 'Bruno Mars', title: '24K Magic', hints: ['Bruno Mars', 'Anderson .Paak', 'Silk Sonic', 'Pharrell'] },\r\n                { artist: 'Pharrell Williams', title: 'Happy', hints: ['Pharrell', 'Justin Timberlake', 'Daft Punk', 'The Weeknd'] },\r\n                { artist: 'Daft Punk', title: 'Get Lucky', hints: ['Daft Punk', 'The Weeknd', 'Pharrell', 'Justice'] },\r\n                { artist: 'Lizzo', title: 'About Damn Time', hints: ['Lizzo', 'Doja Cat', 'Megan Thee Stallion', 'Ice Spice'] },\r\n                { artist: 'Jack Harlow', title: 'First Class', hints: ['Jack Harlow', 'Lil Nas X', 'Post Malone', 'The Kid LAROI'] },\r\n                { artist: 'Lil Nas X', title: 'Industry Baby', hints: ['Lil Nas X', 'Jack Harlow', 'Doja Cat', 'Rosal√≠a'] },\r\n                { artist: 'Gunna', title: 'fukumean', hints: ['Gunna', 'Young Thug', 'Lil Baby', 'Metro Boomin'] },\r\n                { artist: 'Metro Boomin', title: 'Creepin\\'', hints: ['Metro Boomin', 'The Weeknd', '21 Savage', 'Travis Scott'] },\r\n                { artist: 'Bad Bunny', title: 'Monaco', hints: ['Bad Bunny', 'J Balvin', 'Rauw Alejandro', 'Karol G'] },\r\n                { artist: '21 Savage', title: 'Redrum', hints: ['21 Savage', 'Drake', 'Metro Boomin', 'Future'] }\r\n            ],\r\n            'cartoons': [\r\n                { artist: 'Noam Kaniel', title: 'Goldorak le grand', hints: ['Goldorak', 'Albator', 'Ulysse 31', 'Cobra'] },\r\n                { artist: 'Jean-Jacques Debout', title: 'Capitaine Flam', hints: ['Capitaine Flam', 'Albator', 'San Ku Ka√Ø', 'Spectreman'] },\r\n                { artist: 'Jacques Cardona', title: 'Les Myst√©rieuses Cit√©s d\\'Or', hints: ['Cit√©s d\\'Or', 'Ulysse 31', 'Jayce', 'MASK'] },\r\n                { artist: 'Bernard Minet', title: 'Bioman', hints: ['Bioman', 'Flashman', 'X-Or', 'Jiraya'] },\r\n                { artist: 'Claude Valois', title: 'Inspecteur Gadget', hints: ['Gadget', 'Denver', 'Boumbo', 'Babar'] },\r\n                { artist: 'Ariane', title: 'Dragon Ball Z', hints: ['Dragon Ball Z', 'Pokemon', 'Naruto', 'One Piece'] },\r\n                { artist: 'Pokemon', title: 'Attrapez-les tous', hints: ['Pokemon', 'Digimon', 'Yu-Gi-Oh', 'Beyblade'] },\r\n                { artist: 'Totally Spies', title: 'Here We Go', hints: ['Totally Spies', 'Winx Club', 'WITCH', 'Kim Possible'] },\r\n                { artist: 'Code Lyoko', title: 'Un monde sans danger', hints: ['Code Lyoko', 'Winx Club', 'Totally Spies', 'Galactik Football'] },\r\n                { artist: 'Winx Club', title: 'Winx Club Theme', hints: ['Winx Club', 'WITCH', 'Totally Spies', 'Lolirock'] },\r\n                { artist: 'Jean-Pierre Savelli', title: 'X-Or', hints: ['X-Or', 'Bioman', 'San Ku Ka√Ø', 'Sharivan'] },\r\n                { artist: 'Lionel Leroy', title: 'Ulysse 31', hints: ['Ulysse 31', 'Albator', 'Cobra', 'Jayce'] },\r\n                { artist: 'Shuki Levy', title: 'Jayce et les Conqu√©rants de la Lumi√®re', hints: ['Jayce', 'MASK', 'Transformers', 'GI Joe'] },\r\n                { artist: 'Noam', title: 'Les Entrechats', hints: ['Les Entrechats', 'Les Minikeums', 'Petit Ours Brun', 'Babar'] },\r\n                { artist: 'Minikeums', title: 'Ma Melissa', hints: ['Minikeums', 'Totally Spies', 'Pokemon', 'Digimon'] }\r\n            ],\r\n            'movies': [\r\n                { artist: 'John Williams', title: 'Star Wars Main Title', brand: 'Star Wars', hints: ['Star Wars', 'Indiana Jones', 'Superman', 'E.T.'] },\r\n                { artist: 'Hans Zimmer', title: 'He\\'s a Pirate', brand: 'Pirates des Cara√Øbes', hints: ['Pirates des Cara√Øbes', 'Gladiator', 'Inception', 'The Dark Knight'] },\r\n                { artist: 'Celine Dion', title: 'My Heart Will Go On', brand: 'Titanic', hints: ['Titanic', 'Avatar', 'Bodyguard', 'Leon'] },\r\n                { artist: 'Bill Conti', title: 'Gonna Fly Now', brand: 'Rocky', hints: ['Rocky', 'Rambo', 'Top Gun', 'Creed'] },\r\n                { artist: 'Ray Parker Jr.', title: 'Ghostbusters', brand: 'S.O.S. Fant√¥mes', hints: ['Ghostbusters', 'Gremlins', 'The Goonies', 'E.T.'] },\r\n                { artist: 'Harold Faltermeyer', title: 'Axel F', brand: 'Le Flic de Beverly Hills', hints: ['Le Flic de Beverly Hills', 'Top Gun', 'Cocktail', 'Footloose'] },\r\n                { artist: 'Survivor', title: 'Eye of the Tiger', brand: 'Rocky III', hints: ['Rocky III', 'Rambo II', 'Karate Kid', 'Over the Top'] },\r\n                { artist: 'Kenny Loggins', title: 'Danger Zone', brand: 'Top Gun', hints: ['Top Gun', 'Footloose', 'Caddyshack', 'Over the Top'] },\r\n                { artist: 'Dick Dale', title: 'Misirlou', brand: 'Pulp Fiction', hints: ['Pulp Fiction', 'Kill Bill', 'Reservoir Dogs', 'Taxi'] },\r\n                { artist: 'Chuck Berry', title: 'You Never Can Tell', brand: 'Pulp Fiction', hints: ['Pulp Fiction', 'Kill Bill', 'Grease', 'Dirty Dancing'] },\r\n                { artist: 'Lalo Schifrin', title: 'Mission: Impossible Theme', brand: 'Mission: Impossible', hints: ['Mission: Impossible', 'James Bond', 'Jason Bourne', 'Speed'] },\r\n                { artist: 'Monty Norman', title: 'James Bond Theme', brand: 'James Bond', hints: ['James Bond', 'Mission: Impossible', 'Kingsman', 'Austin Powers'] },\r\n                { artist: 'Danny Elfman', title: 'Batman Theme', brand: 'Batman', hints: ['Batman', 'Spider-Man', 'Superman', 'Avengers'] },\r\n                { artist: 'Alan Silvestri', title: 'Back to the Future Theme', brand: 'Retour vers le futur', hints: ['Retour vers le futur', 'Goonies', 'E.T.', 'Indiana Jones'] },\r\n                { artist: 'Brad Fiedel', title: 'Terminator Theme', brand: 'Terminator', hints: ['Terminator', 'Robocop', 'Alien', 'Predator'] }\r\n            ],\r\n            'series': [\r\n                { artist: 'Ramin Djawadi', title: 'Game of Thrones Main Title', brand: 'Game of Thrones', hints: ['Game of Thrones', 'The Witcher', 'Vikings', 'House of the Dragon'] },\r\n                { artist: 'The Rembrandts', title: 'I\\'ll Be There for You', brand: 'Friends', hints: ['Friends', 'How I Met Your Mother', 'Seinfeld', 'Modern Family'] },\r\n                { artist: 'Cecilia Krull', title: 'My Life Is Going On', brand: 'La Casa de Papel', hints: ['La Casa de Papel', 'Elite', 'Vis a Vis', 'Lupin'] },\r\n                { artist: 'Lazerhawk', title: 'Stranger Things Main Title', brand: 'Stranger Things', hints: ['Stranger Things', 'Dark', 'Black Mirror', '1899'] },\r\n                { artist: 'Massive Attack', title: 'Teardrop', brand: 'Dr House', hints: ['Dr House', 'Grey\\'s Anatomy', 'ER', 'Good Doctor'] },\r\n                { artist: 'The Who', title: 'Won\\'t Get Fooled Again', brand: 'Les Experts : Miami', hints: ['CSI: Miami', 'CSI', 'NCIS', 'Bones'] },\r\n                { artist: 'Bear McCreary', title: 'The Walking Dead', brand: 'The Walking Dead', hints: ['The Walking Dead', 'Fear TWD', 'The Last of Us', 'American Horror Story'] },\r\n                { artist: 'Frou Frou', title: 'Let Go', brand: 'Scrubs', hints: ['Scrubs', 'Grey\\'s Anatomy', 'OC', 'Gossip Girl'] },\r\n                { artist: 'Phantom Planet', title: 'California', brand: 'Newport Beach', hints: ['Newport Beach', 'Gossip Girl', '90210', 'One Tree Hill'] },\r\n                { artist: 'Remy Zero', title: 'Save Me', brand: 'Smallville', hints: ['Smallville', 'Arrow', 'Flash', 'Supergirl'] },\r\n                { artist: 'Lazlo Bane', title: 'Superman', brand: 'Scrubs', hints: ['Scrubs', 'Friends', 'The Office', 'Community'] },\r\n                { artist: 'Alabama 3', title: 'Woke Up This Morning', brand: 'Les Soprano', hints: ['Les Soprano', 'The Wire', 'Boardwalk Empire', 'Oz'] },\r\n                { artist: 'Nick Cave', title: 'Red Right Hand', brand: 'Peaky Blinders', hints: ['Peaky Blinders', 'Sons of Anarchy', 'Vikings', 'Sherlock'] },\r\n                { artist: 'The Heights', title: 'How Do You Talk To An Angel', brand: 'Beverly Hills 90210', hints: ['Melrose Place', 'Beverly Hills', 'Dawson', 'Charmed'] },\r\n                { artist: 'Paula Cole', title: 'I Don\\'t Want to Wait', brand: 'Dawson', hints: ['Dawson', 'Felicity', 'Everwood', 'Buffy'] }\r\n            ]\r\n\r\n        }\r\n    };\r\n\r\n    // UI Elements\r\n    const screens = {\r\n        home: document.getElementById('screen-home'),\r\n        themes: document.getElementById('screen-themes'),\r\n        game: document.getElementById('screen-game'),\r\n        results: document.getElementById('screen-results'),\r\n        role: document.getElementById('screen-role'),\r\n        player: document.getElementById('screen-player')\r\n    };\r\n\r\n    // Multiplayer Elements\r\n    const btnRoleHost = document.getElementById('btn-role-host');\r\n    const btnRolePlayer = document.getElementById('btn-role-player');\r\n    const btnJoinRoom = document.getElementById('btn-join-room');\r\n    const inputRoomCode = document.getElementById('input-room-code');\r\n    const selectTeamJoin = document.getElementById('select-team-join');\r\n    const roomCodeDisplay = document.getElementById('room-code-display');\r\n    const currentRoomIdSpan = document.getElementById('current-room-id');\r\n    const playerLobby = document.getElementById('player-lobby');\r\n    const playerGame = document.getElementById('player-game');\r\n    const waitingMsg = document.getElementById('waiting-msg');\r\n    const btnPlayerBuzz = document.getElementById('btn-player-buzz');\r\n    const playerChoices = document.getElementById('player-choices');\r\n    const modeButtons = document.querySelectorAll('.mode-btn');\r\n\r\n\r\n    const navHome = document.getElementById('nav-home');\r\n    const btnCreateTeams = document.getElementById('btn-create-teams');\r\n    const modalTeams = document.getElementById('modal-teams');\r\n    const btnStartGame = document.getElementById('btn-start-game');\r\n    const themeCards = document.querySelectorAll('.theme-card');\r\n    const countdownEl = document.getElementById('countdown');\r\n    const hintsEl = document.getElementById('hints');\r\n    const revealCard = document.getElementById('reveal-card');\r\n    const revealArtist = document.getElementById('reveal-artist');\r\n    const revealTitle = document.getElementById('reveal-title');\r\n    const btnNext = document.getElementById('btn-next');\r\n    const teamButtons = document.querySelectorAll('.team-btn');\r\n    const btnCorrect = document.getElementById('btn-correct');\r\n    const btnWrong = document.getElementById('btn-wrong');\r\n    const validationControls = document.getElementById('validation-controls');\r\n    const bravoContainer = document.getElementById('bravo-container');\r\n    const modifierBadge = document.getElementById('modifier-badge');\r\n\r\n    let lastBuzzedTeam = null;\r\n\r\n\r\n\r\n\r\n\r\n    btnRoleHost.addEventListener('click', () => {\r\n        state.role = 'host';\r\n        state.roomId = Math.random().toString(36).substring(2, 6).toUpperCase();\r\n        currentRoomIdSpan.innerText = state.roomId;\r\n        roomCodeDisplay.classList.remove('hidden');\r\n\r\n        if (window.firebase && firebase.apps.length) {\r\n            state.roomRef = firebase.database().ref('rooms/' + state.roomId);\r\n            logDebug(\"Creating Room: \" + state.roomId);\r\n\r\n            const defaultNames = state.teams.map(t => t.name);\r\n            state.roomRef.set({\r\n                status: 'lobby',\r\n                mode: state.gameMode,\r\n                teams: defaultNames,\r\n                timestamp: Date.now()\r\n            }).then(() => {\r\n                logDebug(\"Room \" + state.roomId + \" initialized in DB\");\r\n            }).catch(err => {\r\n                logDebug(\"DB Error: \" + err.message);\r\n            });\r\n\r\n            // Robust real-time syncing for input\r\n            ['input', 'change', 'blur'].forEach(evt => {\r\n                document.querySelectorAll('.team-inputs input').forEach((input, i) => {\r\n                    input.addEventListener(evt, () => {\r\n                        const names = [];\r\n                        for (let j = 1; j <= 4; j++) {\r\n                            names.push(document.getElementById(`input-team-${j}`).value || `√âquipe ${j}`);\r\n                        }\r\n                        state.roomRef.update({ teams: names });\r\n                    });\r\n                });\r\n            });\r\n\r\n            state.roomRef.child('buzz').on('value', (snapshot) => {\r\n                const Val = snapshot.val();\r\n                if (Val && state.isPlaying) handleRemoteBuzz(Val.teamIdx);\r\n            });\r\n\r\n            state.roomRef.child('answer').on('value', (snapshot) => {\r\n                const Val = snapshot.val();\r\n                if (Val) handleRemoteAnswer(Val);\r\n            });\r\n        }\r\n\r\n        showScreen('home');\r\n        roomCodeDisplay.classList.remove('hidden');\r\n    });\r\n\r\n    btnRoleHost.addEventListener('touchstart', (e) => {\r\n        e.preventDefault();\r\n        btnRoleHost.click();\r\n    }, { passive: false });\r\n\r\n    btnRolePlayer.addEventListener('click', () => {\r\n        state.role = 'player';\r\n        showScreen('player');\r\n    });\r\n\r\n    btnRolePlayer.addEventListener('touchstart', (e) => {\r\n        e.preventDefault();\r\n        btnRolePlayer.click();\r\n    }, { passive: false });\r\n\r\n    // Improved Team Fetching for Player\r\n    let lastFetchedCode = \"\";\r\n    function fetchTeams(code) {\r\n        code = code.toUpperCase();\r\n        if (code === lastFetchedCode) return;\r\n        if (code.length === 4 && window.firebase) {\r\n            lastFetchedCode = code;\r\n            logDebug(\"Fetching teams for: \" + code);\r\n            if (window.teamListener) window.teamListener.off();\r\n\r\n            window.teamListener = firebase.database().ref('rooms/' + code).child('teams');\r\n            window.teamListener.on('value', (snapshot) => {\r\n                const teams = snapshot.val();\r\n                if (teams && Array.isArray(teams)) {\r\n                    logDebug(\"Teams sync OK (\" + teams.length + \")\");\r\n                    selectTeamJoin.innerHTML = '';\r\n                    teams.forEach((name, idx) => {\r\n                        const opt = document.createElement('option');\r\n                        opt.value = idx;\r\n                        opt.innerText = name.toUpperCase();\r\n                        selectTeamJoin.appendChild(opt);\r\n                    });\r\n                } else {\r\n                    logDebug(\"No teams data found for \" + code);\r\n                }\r\n            }, (err) => {\r\n                logDebug(\"Firebase Error: \" + err.message);\r\n            });\r\n        }\r\n    }\r\n\r\n    inputRoomCode.addEventListener('input', (e) => fetchTeams(inputRoomCode.value.trim()));\r\n    inputRoomCode.addEventListener('change', (e) => fetchTeams(inputRoomCode.value.trim()));\r\n    inputRoomCode.addEventListener('blur', (e) => fetchTeams(inputRoomCode.value.trim()));\r\n    selectTeamJoin.addEventListener('focus', () => fetchTeams(inputRoomCode.value.trim()));\r\n    selectTeamJoin.addEventListener('click', () => fetchTeams(inputRoomCode.value.trim()));\r\n    selectTeamJoin.addEventListener('touchstart', () => fetchTeams(inputRoomCode.value.trim()));\r\n\r\n    const handleJoinRoom = () => {\r\n        const code = inputRoomCode.value.trim().toUpperCase();\r\n        if (code.length !== 4) return alert(\"Code invalide\");\r\n\r\n        state.roomId = code;\r\n        state.myTeamIdx = parseInt(selectTeamJoin.value);\r\n\r\n        logDebug(`Joining ${code} - TeamIdx: ${state.myTeamIdx}`);\r\n        const diag = checkFirebase();\r\n        if (!diag.ok) return alert(diag.msg);\r\n\r\n        state.roomRef = firebase.database().ref('rooms/' + state.roomId);\r\n        waitingMsg.innerText = \"CONNEXION AU SALON \" + code + \"...\";\r\n\r\n        // Stop the previous team listener if any\r\n        if (window.teamListener) {\r\n            logDebug(\"Stopping pre-join team listener\");\r\n            window.teamListener.off();\r\n        }\r\n\r\n        state.roomRef.on('value', (snapshot) => {\r\n            const Val = snapshot.val();\r\n            if (!Val) {\r\n                logDebug(\"Room \" + code + \" not found in DB\");\r\n                waitingMsg.innerText = \"SALON INTROUVABLE\";\r\n                return;\r\n            }\r\n\r\n            logDebug(`Sync Status: ${Val.status}`);\r\n\r\n            if (Val.teams && Array.isArray(Val.teams)) {\r\n                Val.teams.forEach((name, idx) => {\r\n                    if (state.teams[idx]) state.teams[idx].name = name;\r\n                });\r\n            }\r\n            updatePlayerInterface(Val);\r\n        }, (err) => {\r\n            logDebug(\"Firebase Sync Error: \" + err.message);\r\n        });\r\n\r\n        playerLobby.classList.add('hidden');\r\n        playerGame.classList.remove('hidden');\r\n        playTone(880, 'sine', 0.2);\r\n    };\r\n\r\n    btnJoinRoom.addEventListener('click', handleJoinRoom);\r\n    btnJoinRoom.addEventListener('touchstart', (e) => {\r\n        e.preventDefault();\r\n        handleJoinRoom();\r\n    }, { passive: false });\r\n\r\n    function updatePlayerInterface(roomData) {\r\n        if (!roomData) return;\r\n        waitingMsg.className = 'player-status-indicator';\r\n\r\n        // Refresh names from Firebase snapshot synchronously\r\n        if (roomData.teams && Array.isArray(roomData.teams)) {\r\n            roomData.teams.forEach((name, idx) => {\r\n                if (state.teams[idx]) state.teams[idx].name = name;\r\n            });\r\n        }\r\n\r\n        const myName = (state.teams[state.myTeamIdx] && state.teams[state.myTeamIdx].name) ? state.teams[state.myTeamIdx].name : `√âquipe ${state.myTeamIdx + 1}`;\r\n\r\n        if (roomData.status === 'playing') {\r\n            waitingMsg.innerText = \"√Ä L'√âCOUTE...\";\r\n            waitingMsg.classList.add('status-active');\r\n            btnPlayerBuzz.classList.remove('hidden');\r\n            playerChoices.classList.add('hidden');\r\n            btnPlayerBuzz.disabled = false;\r\n        } else if (roomData.status === 'loading') {\r\n            waitingMsg.innerText = \"CHARGEMENT DU TITRE...\";\r\n            waitingMsg.classList.add('status-waiting');\r\n            btnPlayerBuzz.classList.add('hidden');\r\n            playerChoices.classList.add('hidden');\r\n        } else if (roomData.status === 'buzzed') {\r\n            btnPlayerBuzz.disabled = true;\r\n            if (roomData.buzzerTeam === state.myTeamIdx) {\r\n                waitingMsg.innerText = \"C'EST √Ä VOUS \" + myName.toUpperCase() + \" !\";\r\n                waitingMsg.classList.add('status-active');\r\n                if (roomData.mode === 'buttons') {\r\n                    showPlayerChoices(roomData.choices);\r\n                }\r\n            } else {\r\n                waitingMsg.innerText = (roomData.buzzerName || \"Quelqu'un\") + \" a buzz√© !\";\r\n                waitingMsg.classList.add('status-buzzed');\r\n                btnPlayerBuzz.classList.add('hidden');\r\n                playerChoices.classList.add('hidden');\r\n            }\r\n        } else if (roomData.status === 'finished') {\r\n            waitingMsg.innerText = \"PARTIE TERMIN√âE !\";\r\n            waitingMsg.classList.add('status-waiting');\r\n            btnPlayerBuzz.classList.add('hidden');\r\n            playerChoices.classList.add('hidden');\r\n\r\n            // Optionnel: On pourrait afficher le score final ici\r\n            if (roomData.scores) {\r\n                const myScore = roomData.scores[state.myTeamIdx];\r\n                if (myScore) {\r\n                    waitingMsg.innerText = `FIN : ${myScore.score} PTS`;\r\n                }\r\n            }\r\n        } else {\r\n            // Here we use the synchronized team name\r\n            waitingMsg.innerText = myName.toUpperCase() + \" PR√äT !\";\r\n            waitingMsg.classList.add('status-waiting');\r\n            btnPlayerBuzz.classList.add('hidden');\r\n            playerChoices.classList.add('hidden');\r\n        }\r\n    }\r\n\r\n    const handleBuzzClick = () => {\r\n        if (!state.roomRef || btnPlayerBuzz.disabled) return;\r\n        const myName = state.teams && state.teams[state.myTeamIdx] ? state.teams[state.myTeamIdx].name : `√âquipe ${state.myTeamIdx + 1}`;\r\n        logDebug(\"Buzz sent by \" + myName);\r\n        state.roomRef.child('buzz').set({\r\n            teamIdx: state.myTeamIdx,\r\n            name: myName,\r\n            time: Date.now()\r\n        });\r\n    };\r\n\r\n    btnPlayerBuzz.addEventListener('click', handleBuzzClick);\r\n    btnPlayerBuzz.addEventListener('touchstart', (e) => {\r\n        e.preventDefault();\r\n        handleBuzzClick();\r\n    }, { passive: false });\r\n\r\n    function showPlayerChoices(choices) {\r\n        playerChoices.classList.remove('hidden');\r\n        btnPlayerBuzz.classList.add('hidden');\r\n        const bts = playerChoices.querySelectorAll('.choice-btn');\r\n\r\n        // Hide all first\r\n        bts.forEach(b => b.classList.add('hidden'));\r\n\r\n        choices.forEach((c, i) => {\r\n            if (bts[i]) {\r\n                bts[i].innerText = c;\r\n                bts[i].classList.remove('hidden');\r\n                const handleChoice = () => {\r\n                    logDebug(\"Choice sent: \" + c);\r\n                    state.roomRef.child('answer').set({\r\n                        teamIdx: state.myTeamIdx,\r\n                        choice: c,\r\n                        timestamp: Date.now()\r\n                    });\r\n                    playerChoices.classList.add('hidden');\r\n                    waitingMsg.innerText = \"R√âPONSE ENVOY√âE...\";\r\n                };\r\n                bts[i].onclick = handleChoice;\r\n                bts[i].ontouchstart = (e) => {\r\n                    e.preventDefault();\r\n                    handleChoice();\r\n                };\r\n            }\r\n        });\r\n    }\r\n\r\n    // Mode Selector\r\n    modeButtons.forEach(btn => {\r\n        btn.addEventListener('click', () => {\r\n            modeButtons.forEach(b => b.classList.remove('active'));\r\n            btn.classList.add('active');\r\n            state.gameMode = btn.getAttribute('data-mode');\r\n            console.log(\"Mode s√©lectionn√©:\", state.gameMode);\r\n        });\r\n    });\r\n\r\n    // Navigation\r\n    function showScreen(name) {\r\n        Object.keys(screens).forEach(key => {\r\n            if (screens[key]) screens[key].classList.toggle('active', key === name);\r\n        });\r\n        state.screen = name;\r\n    }\r\n\r\n    navHome.addEventListener('click', () => {\r\n        window.location.reload(); // Hard reset for STITCH 2026 consistency\r\n    });\r\n\r\n    navHome.addEventListener('touchstart', (e) => {\r\n        e.preventDefault();\r\n        window.location.reload();\r\n    }, { passive: false });\r\n\r\n    // Team Setup\r\n    btnCreateTeams.addEventListener('click', () => {\r\n        modalTeams.classList.add('active');\r\n    });\r\n\r\n    btnCreateTeams.addEventListener('touchstart', (e) => {\r\n        e.preventDefault();\r\n        modalTeams.classList.add('active');\r\n    }, { passive: false });\r\n\r\n    // Team Count Selector (Improved with delegation for iPad)\r\n    const countContainer = document.querySelector('.count-btns');\r\n    if (countContainer) {\r\n        const handleCountSelection = (btn) => {\r\n            document.querySelectorAll('.count-btn').forEach(b => b.classList.remove('active'));\r\n            btn.classList.add('active');\r\n            state.teamCount = parseInt(btn.getAttribute('data-count'));\r\n            console.log(\"Team count selected:\", state.teamCount);\r\n\r\n            // Show/Hide inputs\r\n            for (let i = 1; i <= 4; i++) {\r\n                const input = document.getElementById(`input-team-${i}`);\r\n                if (input) {\r\n                    if (i <= state.teamCount) input.classList.remove('hidden');\r\n                    else input.classList.add('hidden');\r\n                }\r\n            }\r\n        };\r\n\r\n        countContainer.addEventListener('click', (e) => {\r\n            const btn = e.target.closest('.count-btn');\r\n            if (btn) handleCountSelection(btn);\r\n        });\r\n\r\n        // Touch support for iPad\r\n        countContainer.addEventListener('touchstart', (e) => {\r\n            const btn = e.target.closest('.count-btn');\r\n            if (btn) {\r\n                e.preventDefault();\r\n                handleCountSelection(btn);\r\n            }\r\n        }, { passive: false });\r\n    }\r\n\r\n    // Auto-clear default names\r\n    document.querySelectorAll('.team-inputs input').forEach(input => {\r\n        input.addEventListener('focus', function () {\r\n            if (this.value.includes('√âquipe')) this.value = '';\r\n        });\r\n    });\r\n\r\n\r\n    const startGame = () => {\r\n        console.log(\"D√©marrage avec\", state.teamCount, \"√©quipes\");\r\n\r\n        const teamNames = [];\r\n        for (let i = 0; i < 4; i++) {\r\n            const val = document.getElementById(`input-team-${i + 1}`).value;\r\n            state.teams[i].name = val || `√âquipe ${i + 1}`;\r\n            if (i < state.teamCount) teamNames.push(state.teams[i].name);\r\n\r\n            const scoreChip = document.getElementById(`score-team-${i + 1}`);\r\n            const teamBlock = document.getElementById(`block-team-${i + 1}`);\r\n\r\n            if (i < state.teamCount) {\r\n                if (scoreChip) scoreChip.classList.remove('hidden');\r\n                if (teamBlock) teamBlock.classList.remove('hidden');\r\n                const btn = teamBlock ? teamBlock.querySelector('.team-btn') : null;\r\n                if (btn) {\r\n                    btn.innerText = state.teams[i].name;\r\n                }\r\n            } else {\r\n                if (scoreChip) scoreChip.classList.add('hidden');\r\n                if (teamBlock) teamBlock.classList.add('hidden');\r\n            }\r\n        }\r\n\r\n        // Sync team names with Firebase so players can see them\r\n        if (state.roomRef) {\r\n            state.roomRef.update({\r\n                teams: teamNames,\r\n                status: 'lobby',\r\n                timestamp: Date.now()\r\n            });\r\n        }\r\n\r\n        updateScores();\r\n        modalTeams.classList.remove('active');\r\n        initAudio();\r\n        if (audioContext) audioContext.resume();\r\n        showScreen('themes');\r\n    };\r\n\r\n    btnStartGame.addEventListener('click', startGame);\r\n    btnStartGame.addEventListener('touchstart', (e) => {\r\n        e.preventDefault();\r\n        startGame();\r\n    }, { passive: false });\r\n\r\n\r\n\r\n\r\n    function updateScores() {\r\n        for (let i = 0; i < state.teamCount; i++) {\r\n            const chip = document.getElementById(`score-team-${i + 1}`);\r\n            chip.innerText = `${state.teams[i].name}: ${state.teams[i].score}`;\r\n        }\r\n    }\r\n\r\n\r\n    // Game Logic\r\n    const handleThemeSelection = (card) => {\r\n        const theme = card.getAttribute('data-theme');\r\n        startTheme(theme);\r\n    };\r\n\r\n    themeCards.forEach(card => {\r\n        card.addEventListener('click', () => handleThemeSelection(card));\r\n        card.addEventListener('touchstart', (e) => {\r\n            e.preventDefault();\r\n            handleThemeSelection(card);\r\n        }, { passive: false });\r\n    });\r\n\r\n    function startTheme(theme) {\r\n        state.currentTheme = theme;\r\n        showScreen('game');\r\n        nextSong();\r\n    }\r\n\r\n    // Audio Management\r\n    const audioPlayer = new Audio();\r\n    // STITCH 2026: Anti-reset speed protection\r\n    audioPlayer.addEventListener('play', () => {\r\n        audioPlayer.playbackRate = state.mysteryRate;\r\n    });\r\n    audioPlayer.addEventListener('playing', () => {\r\n        audioPlayer.playbackRate = state.mysteryRate;\r\n    });\r\n    let audioContext = null;\r\n\r\n    function initAudio() {\r\n        if (!audioContext) {\r\n            audioContext = new (window.AudioContext || window.webkitAudioContext)();\r\n        }\r\n    }\r\n\r\n    async function fetchPreview(artist, title, theme, brand) {\r\n        let controller = null;\r\n        let timeoutId = null;\r\n\r\n        if (window.AbortController) {\r\n            controller = new AbortController();\r\n            timeoutId = setTimeout(() => controller.abort(), 4000);\r\n        }\r\n\r\n        try {\r\n            let queryStr = brand ? brand : `${artist} ${title}`;\r\n            if (theme === 'disney') queryStr += \" French\";\r\n            if (brand && (theme === 'movies' || theme === 'series')) queryStr += \" soundtrack\";\r\n            const query = queryStr.replace(/['\"]/g, \"\");\r\n\r\n            const response = await fetch(`https://itunes.apple.com/search?term=${encodeURIComponent(query)}&entity=song&limit=1${theme === 'disney' ? '&country=FR' : ''}`, {\r\n                signal: controller.signal\r\n            });\r\n\r\n            clearTimeout(timeoutId);\r\n            const data = await response.json();\r\n\r\n            if (data.results && data.results.length > 0) {\r\n                return {\r\n                    audio: data.results[0].previewUrl,\r\n                    cover: data.results[0].artworkUrl100.replace('100x100bb', '600x600bb')\r\n                };\r\n            }\r\n        } catch (e) {\r\n            console.error(\"Erreur iTunes API:\", e);\r\n        } finally {\r\n            clearTimeout(timeoutId);\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n\r\n    async function nextSong() {\r\n        // Check if game is over\r\n        if (state.round >= state.maxRounds) {\r\n            showResults();\r\n            return;\r\n        }\r\n        state.round++;\r\n\r\n        initAudio();\r\n        if (audioContext) audioContext.resume();\r\n\r\n        try {\r\n\r\n\r\n            state.isPlaying = false;\r\n            audioPlayer.pause();\r\n            if (state.interval) clearInterval(state.interval);\r\n\r\n            // UI states - CACHE TOUT AU D√âBUT\r\n            countdownEl.innerText = \"Chargement...\";\r\n            countdownEl.classList.remove('hidden');\r\n            hintsEl.classList.add('hidden');\r\n            revealCard.classList.add('hidden');\r\n            btnNext.classList.add('hidden'); // Cach√© par d√©faut au d√©but du chargement\r\n            validationControls.classList.add('hidden');\r\n\r\n            // Sync loading status to players\r\n            if (state.roomRef) {\r\n                state.roomRef.update({ status: 'loading', buzzerTeam: null });\r\n            }\r\n\r\n            // S√©curit√© : Si le chargement prend trop de temps (timeout r√©seau), on affiche un moyen de passer\r\n            const loadingSafetyTimeout = setTimeout(() => {\r\n                if (countdownEl.innerText === \"Chargement...\") {\r\n                    countdownEl.innerText = \"Connexion lente...\";\r\n                    btnNext.innerText = \"PASSER CE TITRE\";\r\n                    btnNext.classList.remove('hidden');\r\n                }\r\n            }, 6000);\r\n\r\n            // Clear bravo UI\r\n            bravoContainer.innerHTML = '';\r\n\r\n\r\n            bravoContainer.innerHTML = '';\r\n\r\n\r\n            // Reset Modifier for the new song (Challenges only last 1 song)\r\n            state.currentModifier = 'normal';\r\n            state.speedBonusActive = false;\r\n            state.activeJoker = null;\r\n            state.mysteryRate = 1.0;\r\n            audioPlayer.defaultPlaybackRate = 1.0;\r\n            audioPlayer.playbackRate = 1.0;\r\n\r\n            // Wheel Logic: Trigger every 3 to 5 songs\r\n            state.songsUntilWheel--;\r\n\r\n            if (state.songsUntilWheel <= 0) {\r\n                const mods = ['double', 'mystery', 'bonus1', 'bonus3', 'fast', 'steal', 'bomb'];\r\n                // Avoid same mod twice if possible\r\n                let newMod = mods[Math.floor(Math.random() * mods.length)];\r\n                while (newMod === state.currentModifier) {\r\n                    newMod = mods[Math.floor(Math.random() * mods.length)];\r\n                }\r\n                state.currentModifier = newMod;\r\n\r\n                // Suspension : Lancer la roue\r\n                await launchWheelOfFate(state.currentModifier);\r\n\r\n                modifierBadge.classList.remove('hidden');\r\n                modifierBadge.className = 'modifier-badge';\r\n\r\n                if (state.currentModifier === 'double') {\r\n                    modifierBadge.innerText = \"üî• POINTS DOUBLES\";\r\n                    modifierBadge.classList.add('modifier-double');\r\n                } else if (state.currentModifier === 'mystery') {\r\n                    const rates = [0.7, 1.7, 2.0];\r\n                    state.mysteryRate = rates[Math.floor(Math.random() * rates.length)];\r\n                    audioPlayer.defaultPlaybackRate = state.mysteryRate;\r\n                    modifierBadge.innerText = state.mysteryRate < 1 ? \"üåÄ AUDIO RALENTI\" : \"üåÄ AUDIO ACC√âL√âR√â\";\r\n                    modifierBadge.classList.add('modifier-mystery');\r\n                } else if (state.currentModifier === 'bonus1') {\r\n                    modifierBadge.innerText = \"‚ú® BONUS +1 PT\";\r\n                    modifierBadge.classList.add('modifier-bonus1');\r\n                } else if (state.currentModifier === 'bonus3') {\r\n                    modifierBadge.innerText = \"üíé ULTRA BONUS +3 PTS\";\r\n                    modifierBadge.classList.add('modifier-bonus3');\r\n                } else if (state.currentModifier === 'fast') {\r\n                    modifierBadge.innerText = \"‚è±Ô∏è CHRONO (10 SECONDES)\";\r\n                    modifierBadge.classList.add('modifier-fast');\r\n                } else if (state.currentModifier === 'steal') {\r\n                    modifierBadge.innerText = \"üè¥‚Äç‚ò†Ô∏è PIRATE (VOL DE POINTS)\";\r\n                    modifierBadge.classList.add('modifier-steal');\r\n                } else if (state.currentModifier === 'bomb') {\r\n                    modifierBadge.innerText = \"üí£ BOMBE (-3 SI ERREUR)\";\r\n                    modifierBadge.classList.add('modifier-fast'); // Reuse red style\r\n                }\r\n\r\n                // Set next countdown for the wheel (3, 4 or 5 songs)\r\n                state.songsUntilWheel = Math.floor(Math.random() * 3) + 3;\r\n            } else {\r\n                // Modifiers last 1 song\r\n                state.currentModifier = 'normal';\r\n                modifierBadge.classList.add('hidden');\r\n            }\r\n\r\n            // Randomize Joker availability (50% chance)\r\n            const isJokerAvailable = Math.random() > 0.5;\r\n            document.querySelectorAll('.joker-btn').forEach((btn) => {\r\n                btn.classList.remove('active');\r\n                if (isJokerAvailable) {\r\n                    btn.classList.remove('hidden');\r\n                } else {\r\n                    btn.classList.add('hidden');\r\n                }\r\n            });\r\n\r\n\r\n            let activeTheme = state.currentTheme;\r\n            let themeSongs = state.songs[activeTheme];\r\n\r\n            // Safety check\r\n            if (!themeSongs && activeTheme !== 'random') {\r\n                countdownEl.innerText = \"Th√®me Inconnu\";\r\n                btnNext.classList.remove('hidden');\r\n                return;\r\n            }\r\n\r\n            // If Random is selected, pick a random theme for this specific song\r\n            if (activeTheme === 'random') {\r\n                const themes = Object.keys(state.songs).filter(t => t !== 'random');\r\n                const randomTheme = themes[Math.floor(Math.random() * themes.length)];\r\n                themeSongs = state.songs[randomTheme];\r\n                activeTheme = randomTheme;\r\n            }\r\n\r\n\r\n            let result = null;\r\n            let attempts = 0;\r\n            const maxAttempts = 5;\r\n\r\n            // Filter out already played OR blacklisted songs\r\n            let availableSongs = themeSongs.filter(s => !state.playedSongs.includes(s.title) && !state.failedSongs.includes(s.title));\r\n\r\n            // If no songs left, reset history but keep blacklist\r\n            if (availableSongs.length === 0) {\r\n                state.playedSongs = [];\r\n                availableSongs = themeSongs.filter(s => !state.failedSongs.includes(s.title));\r\n                // If even after reset nothing is left, we must clear blacklist (emergency)\r\n                if (availableSongs.length === 0) {\r\n                    state.failedSongs = [];\r\n                    availableSongs = themeSongs;\r\n                }\r\n            }\r\n\r\n            while (!result && attempts < 10) { // Increased to 10 attempts\r\n                let candidate = availableSongs[Math.floor(Math.random() * availableSongs.length)];\r\n                state.currentSong = candidate;\r\n\r\n                result = await fetchPreview(state.currentSong.artist, state.currentSong.title, activeTheme, state.currentSong.brand);\r\n\r\n                if (!result || !result.audio) {\r\n                    attempts++;\r\n                    console.warn(`Song unavailable: ${state.currentSong.title}. Retrying...`);\r\n                    // Blacklist this song for this session\r\n                    if (!state.failedSongs.includes(state.currentSong.title)) {\r\n                        state.failedSongs.push(state.currentSong.title);\r\n                    }\r\n                    // Update available list for the next attempt in the loop\r\n                    availableSongs = availableSongs.filter(s => s.title !== candidate.title);\r\n                    if (availableSongs.length === 0) break;\r\n                    result = null;\r\n                }\r\n            }\r\n\r\n\r\n            if (result && result.audio) {\r\n                state.playedSongs.push(state.currentSong.title);\r\n                // ... (rest of the logic stays same)\r\n                audioPlayer.src = result.audio;\r\n                audioPlayer.load();\r\n\r\n                // Update Firebase status now that we have a song\r\n                if (state.roomRef) {\r\n                    state.roomRef.update({\r\n                        status: 'playing',\r\n                        buzzerTeam: null,\r\n                        buzzerName: null,\r\n                        answer: null,\r\n                        buzz: null,\r\n                        mode: state.gameMode,\r\n                        choices: state.gameMode === 'buttons' ? shuffle([...state.currentSong.hints]) : []\r\n                    });\r\n                }\r\n\r\n                // Apply mystery rate AFTER loading, otherwise some browsers reset it to 1.0\r\n                audioPlayer.defaultPlaybackRate = state.mysteryRate;\r\n                audioPlayer.playbackRate = state.mysteryRate;\r\n\r\n                audioPlayer.play().then(() => {\r\n                    clearTimeout(loadingSafetyTimeout);\r\n                    // Double check rate on actual playback start (Crucial for mobile Safari)\r\n                    audioPlayer.playbackRate = state.mysteryRate;\r\n                    state.isPlaying = true;\r\n\r\n                    state.timer = (state.currentModifier === 'fast') ? 10 : 30;\r\n                    countdownEl.innerText = state.timer;\r\n                    startTimer();\r\n\r\n\r\n                }).catch(e => {\r\n                    console.warn(\"Auto-play blocked:\", e);\r\n                    // Safari iPad fallback\r\n                    countdownEl.innerText = \"CLIQUEZ POUR JOUER\";\r\n                    btnNext.innerText = \"LANCER LE SON\";\r\n                    btnNext.classList.remove('hidden');\r\n                    state.isPlaying = false;\r\n                });\r\n\r\n                const miniCover = revealCard.querySelector('.mini-cover');\r\n                if (miniCover && result.cover) {\r\n                    miniCover.style.backgroundImage = `url(${result.cover})`;\r\n                }\r\n            } else {\r\n                clearTimeout(loadingSafetyTimeout);\r\n                countdownEl.innerText = \"Indisponible (Suivant)\";\r\n                btnNext.innerText = \"TITRE SUIVANT\";\r\n                btnNext.classList.remove('hidden');\r\n            }\r\n\r\n            const hintButtons = hintsEl.querySelectorAll('.hint-btn');\r\n            state.currentSong.hints.forEach((hint, i) => {\r\n                hintButtons[i].innerText = hint;\r\n                hintButtons[i].onclick = () => selectArtist(hint);\r\n            });\r\n        } catch (err) {\r\n            console.error(\"Critical error in nextSong:\", err);\r\n            countdownEl.innerText = \"Erreur - Passez au suivant\";\r\n            btnNext.classList.remove('hidden');\r\n        }\r\n    }\r\n\r\n\r\n\r\n    function startTimer() {\r\n        if (state.interval) clearInterval(state.interval);\r\n        state.interval = setInterval(() => {\r\n            state.timer--;\r\n            countdownEl.innerText = state.timer;\r\n\r\n            if (state.timer === 15) {\r\n                showHints();\r\n            }\r\n\r\n\r\n\r\n            if (state.timer <= 0) {\r\n                clearInterval(state.interval);\r\n                handleTimeout();\r\n            }\r\n        }, 1000);\r\n    }\r\n\r\n    function handleRemoteBuzz(teamIdx) {\r\n        if (!state.isPlaying) return;\r\n\r\n        // Local buzz handling logic\r\n        audioPlayer.pause();\r\n        state.isPlaying = false;\r\n        clearInterval(state.interval);\r\n\r\n        lastBuzzedTeam = teamIdx;\r\n\r\n        if (state.roomRef) {\r\n            state.roomRef.update({\r\n                status: 'buzzed',\r\n                buzzerTeam: teamIdx,\r\n                buzzerName: state.teams[teamIdx].name\r\n            });\r\n        }\r\n\r\n        playTone(440, 'triangle', 0.3);\r\n\r\n        // In Oral mode, we reveal immediately to show validation\r\n        if (state.gameMode === 'oral') {\r\n            setTimeout(() => {\r\n                victory();\r\n            }, 800);\r\n        } else {\r\n            // In Buttons mode, we wait for handleRemoteAnswer\r\n            displayFeedback(\"ATTENTE DE LA R√âPONSE...\", \"feedback-bravo\");\r\n        }\r\n    }\r\n\r\n    function handleRemoteAnswer(answerData) {\r\n        if (state.gameMode !== 'buttons' || lastBuzzedTeam === null) return;\r\n\r\n        // Clear the answer in Firebase to avoid loops\r\n        state.roomRef.child('answer').set(null);\r\n\r\n        if (answerData.choice === state.currentSong.artist) {\r\n            // Simuler un click sur \"Correct\"\r\n            btnCorrect.click();\r\n        } else {\r\n            // Simuler un click sur \"Wrong\"\r\n            btnWrong.click();\r\n        }\r\n\r\n        // Reveal visually \r\n        victory();\r\n    }\r\n\r\n    function shuffle(array) {\r\n        return array.sort(() => Math.random() - 0.5);\r\n    }\r\n\r\n    function handleTimeout() {\r\n        state.isPlaying = false;\r\n        audioPlayer.pause();\r\n\r\n        displayFeedback(\"C'√âTAIT PAS SI DUR POURTANT üòâ\", \"feedback-dommage\");\r\n        playTone(220, 'sawtooth', 0.5);\r\n\r\n        // Reveal song without validation controls\r\n        lastBuzzedTeam = null;\r\n        victory();\r\n    }\r\n\r\n\r\n    function showHints() {\r\n        hintsEl.classList.remove('hidden');\r\n        // We keep countdown visible as requested\r\n    }\r\n\r\n\r\n    function selectArtist(name) {\r\n        if (name === state.currentSong.artist) {\r\n            victory();\r\n        } else {\r\n            playTone(110, 'sawtooth', 0.3);\r\n        }\r\n    }\r\n\r\n    function victory() {\r\n        state.isPlaying = false;\r\n        clearInterval(state.interval);\r\n        audioPlayer.pause();\r\n\r\n        revealArtist.innerText = state.currentSong.brand ? state.currentSong.brand : state.currentSong.artist;\r\n        revealTitle.innerText = state.currentSong.brand ? `${state.currentSong.artist} - ${state.currentSong.title}` : state.currentSong.title;\r\n        revealCard.classList.remove('hidden');\r\n        hintsEl.classList.add('hidden');\r\n        countdownEl.classList.add('hidden');\r\n\r\n        if (lastBuzzedTeam !== null) {\r\n            validationControls.classList.remove('hidden');\r\n            btnNext.classList.add('hidden');\r\n        } else {\r\n            validationControls.classList.add('hidden');\r\n            btnNext.classList.remove('hidden');\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    btnCorrect.addEventListener('click', () => {\r\n        if (lastBuzzedTeam !== null) {\r\n            // Gestion de la s√©rie (Streak)\r\n            if (state.streakTeam === lastBuzzedTeam) {\r\n                state.streakCount++;\r\n            } else {\r\n                state.streakTeam = lastBuzzedTeam;\r\n                state.streakCount = 1;\r\n            }\r\n\r\n            // Calcul des points de base selon la s√©rie\r\n            let basePoints = 1;\r\n            let isSpecialStreak = false;\r\n\r\n            if (state.streakCount >= 7) {\r\n                basePoints = 5;\r\n                isSpecialStreak = true;\r\n            } else if (state.streakCount >= 3) {\r\n                basePoints = 3;\r\n                isSpecialStreak = true;\r\n            }\r\n\r\n            let points = basePoints;\r\n\r\n            // Ajout des bonus si un badge est affich√© √† l'√©cran\r\n            if (state.currentModifier === 'bonus1') points += 1;\r\n            if (state.currentModifier === 'bonus3') points += 3;\r\n            if (state.currentModifier === 'double') points *= 2;\r\n            if (state.currentModifier === 'steal') points += 2;\r\n            if (state.currentModifier === 'mystery') points += 1; // Slight bonus for mystery speed\r\n\r\n            // Le joker double le gain final du tour (Quitte ou Double)\r\n            if (state.activeJoker === lastBuzzedTeam) {\r\n                points *= 2;\r\n                // Mark joker as used permanently\r\n                const jokerBtn = document.getElementById(`joker-${lastBuzzedTeam + 1}`);\r\n                if (jokerBtn) jokerBtn.classList.add('used');\r\n                state.activeJoker = null;\r\n            }\r\n\r\n            state.teams[lastBuzzedTeam].score += points;\r\n\r\n            // Special Steal effect: remove points from others\r\n            if (state.currentModifier === 'steal') {\r\n                state.teams.forEach((team, idx) => {\r\n                    if (idx !== lastBuzzedTeam && idx < state.teamCount) {\r\n                        team.score = Math.max(0, team.score - 1);\r\n                    }\r\n                });\r\n                launchBonusParticles(\"PIRATE ! üè¥‚Äç‚ò†Ô∏è\");\r\n            }\r\n            updateScores();\r\n\r\n            // Feedback \"Stitch 2026\"\r\n            let feedbackMsg = `BRAVO ! (+${points} PTS)`;\r\n            if (isSpecialStreak) {\r\n                feedbackMsg = `QUEL TALENT ! üòâ (+${points} PTS)`;\r\n                launchBonusParticles(\"QUEL TALENT !\");\r\n            } else {\r\n                launchBonusParticles(`+${points} PTS`);\r\n            }\r\n            displayFeedback(feedbackMsg, 'feedback-bravo');\r\n\r\n            lastBuzzedTeam = null;\r\n            validationControls.classList.add('hidden');\r\n            btnNext.classList.remove('hidden');\r\n            playTone(660, 'sine', 0.2);\r\n        }\r\n    });\r\n\r\n\r\n\r\n\r\n\r\n\r\n    btnWrong.addEventListener('click', () => {\r\n        if (lastBuzzedTeam !== null) {\r\n            state.streakTeam = null;\r\n            state.streakCount = 0;\r\n\r\n            if (state.activeJoker === lastBuzzedTeam) {\r\n                state.teams[lastBuzzedTeam].score = Math.max(0, state.teams[lastBuzzedTeam].score - 2);\r\n                launchBonusParticles(\"-2 PTS üíÄ\");\r\n\r\n                // Mark joker as used even on failure (Risky!)\r\n                const jokerBtn = document.getElementById(`joker-${lastBuzzedTeam + 1}`);\r\n                if (jokerBtn) jokerBtn.classList.add('used');\r\n                state.activeJoker = null;\r\n\r\n                updateScores();\r\n            } else if (state.currentModifier === 'bomb') {\r\n                state.teams[lastBuzzedTeam].score = Math.max(0, state.teams[lastBuzzedTeam].score - 3);\r\n                launchBonusParticles(\"-3 PTS üí£\");\r\n                updateScores();\r\n            } else {\r\n                // 50% chance to lose a point\r\n                if (Math.random() > 0.5) {\r\n                    state.teams[lastBuzzedTeam].score = Math.max(0, state.teams[lastBuzzedTeam].score - 1);\r\n                    launchBonusParticles(\"-1 PT ‚ùå\");\r\n                    updateScores();\r\n                } else {\r\n                    displayFeedback(\"OFFERT PAR LA MAISON ! üôè\", \"feedback-bravo\");\r\n                    playTone(880, 'sine', 0.1);\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n\r\n        lastBuzzedTeam = null;\r\n        validationControls.classList.add('hidden');\r\n        btnNext.classList.remove('hidden');\r\n        displayFeedback('DOMMAGE...', 'feedback-dommage');\r\n        playTone(220, 'sawtooth', 0.2);\r\n    });\r\n\r\n\r\n\r\n    function launchBonusParticles(text) {\r\n        const count = 30;\r\n        for (let i = 0; i < count; i++) {\r\n            setTimeout(() => {\r\n                const p = document.createElement('div');\r\n                const isPenalty = text.includes(\"-\");\r\n                p.className = 'particle ' + (i % 2 === 0 ? 'heart-particle' : (isPenalty ? 'penalty-label' : 'bonus-label'));\r\n\r\n                p.innerHTML = (i % 2 === 0 ? '‚ù§Ô∏è' : text);\r\n                p.style.left = Math.random() * 100 + 'vw';\r\n                p.style.animationDuration = (Math.random() * 2 + 2) + 's';\r\n                p.style.setProperty('--drift', (Math.random() * 400 - 200) + 'px');\r\n                p.style.setProperty('--rot', (Math.random() * 720 - 360) + 'deg');\r\n                document.body.appendChild(p);\r\n\r\n                p.addEventListener('animationend', () => p.remove());\r\n            }, i * 100);\r\n        }\r\n    }\r\n\r\n\r\n    function displayFeedback(text, className) {\r\n        bravoContainer.innerHTML = '';\r\n        const feedback = document.createElement('div');\r\n        feedback.className = `feedback-text ${className}`;\r\n        feedback.innerText = text;\r\n        bravoContainer.appendChild(feedback);\r\n    }\r\n\r\n\r\n    // Team Buzzers Delegation (More robust for multi-team and iPad)\r\n    const teamsAction = document.getElementById('teams-action');\r\n    if (teamsAction) {\r\n        const handleBuzz = (idx) => {\r\n            if (!state.isPlaying) return;\r\n            audioPlayer.pause();\r\n            state.isPlaying = false;\r\n            clearInterval(state.interval);\r\n\r\n            lastBuzzedTeam = idx;\r\n            if (state.timer > 25) state.speedBonusActive = true;\r\n\r\n            setTimeout(() => {\r\n                victory();\r\n            }, 1200);\r\n            playTone(440, 'triangle', 0.3);\r\n        };\r\n\r\n        teamsAction.addEventListener('click', (e) => {\r\n            const btn = e.target.closest('.team-btn');\r\n            if (btn) {\r\n                const idx = parseInt(btn.getAttribute('data-team'));\r\n                handleBuzz(idx);\r\n            }\r\n        });\r\n\r\n        // iPad Touch support for buzzers\r\n        teamsAction.addEventListener('touchstart', (e) => {\r\n            const btn = e.target.closest('.team-btn');\r\n            if (btn) {\r\n                e.preventDefault();\r\n                const idx = parseInt(btn.getAttribute('data-team'));\r\n                handleBuzz(idx);\r\n            }\r\n        }, { passive: false });\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    function activateJoker(teamIdx) {\r\n        if (!state.isPlaying) return;\r\n        const btn = document.getElementById(`joker-${teamIdx + 1}`);\r\n        if (btn.classList.contains('hidden') || btn.classList.contains('used')) return;\r\n\r\n        // Toggle logic\r\n        if (state.activeJoker === teamIdx) {\r\n            state.activeJoker = null;\r\n            btn.classList.remove('active');\r\n            playTone(330, 'sine', 0.1);\r\n        } else if (state.activeJoker === null) {\r\n            state.activeJoker = teamIdx;\r\n            btn.classList.add('active');\r\n            playTone(880, 'sine', 0.1);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    btnNext.addEventListener('click', () => {\r\n        nextSong();\r\n    });\r\n\r\n    btnNext.addEventListener('touchstart', (e) => {\r\n        e.preventDefault();\r\n        nextSong();\r\n    }, { passive: false });\r\n\r\n    function stopGame() {\r\n        state.isPlaying = false;\r\n        audioPlayer.pause();\r\n        if (state.interval) clearInterval(state.interval);\r\n    }\r\n\r\n    function playTone(freq, type, duration) {\r\n        if (!audioContext) initAudio();\r\n        const osc = audioContext.createOscillator();\r\n        const gain = audioContext.createGain();\r\n        osc.type = type;\r\n        osc.frequency.value = freq;\r\n        gain.gain.setValueAtTime(0.1, audioContext.currentTime);\r\n        gain.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + duration);\r\n        osc.connect(gain);\r\n        gain.connect(audioContext.destination);\r\n        osc.start();\r\n        osc.stop(audioContext.currentTime + duration);\r\n    }\r\n\r\n    async function launchWheelOfFate(modifier) {\r\n        return new Promise(resolve => {\r\n            const modal = document.getElementById('modal-wheel');\r\n            const reel = document.getElementById('slot-reel');\r\n            const teamZone = document.getElementById('wheel-team-zone');\r\n            const teamNameEl = document.getElementById('wheel-team-name');\r\n            const spinBtn = document.getElementById('btn-spin-wheel');\r\n            const slotWindow = document.getElementById('slot-window');\r\n\r\n            // Pick a random team to spin the wheel\r\n            const luckyTeamIdx = Math.floor(Math.random() * state.teamCount);\r\n            teamNameEl.innerText = state.teams[luckyTeamIdx].name.toUpperCase();\r\n\r\n            const items = [\r\n                { id: 'bonus1', label: 'Surprise +1 üéÅ' },\r\n                { id: 'bonus3', label: 'Ultra +3 üíé' },\r\n                { id: 'double', label: 'Doubles üî•' },\r\n                { id: 'mystery', label: 'Myst√®re üåÄ' },\r\n                { id: 'fast', label: 'Chrono ‚è±Ô∏è' },\r\n                { id: 'steal', label: 'Pirate üè¥‚Äç‚ò†Ô∏è' },\r\n                { id: 'bomb', label: 'Bombe üí£' }\r\n            ];\r\n\r\n            // Populate reel with many items for the spinning effect\r\n            let strip = [];\r\n            for (let i = 0; i < 20; i++) {\r\n                // Randomize the \"visuals\" during spin\r\n                const randItem = items[Math.floor(Math.random() * items.length)];\r\n                strip.push(randItem);\r\n            }\r\n            const target = items.find(i => i.id === modifier);\r\n            strip.push(target);\r\n\r\n            reel.innerHTML = strip.map(i => `<div class=\"slot-item ${i.id}\">${i.label}</div>`).join('');\r\n            reel.style.transition = 'none';\r\n            reel.style.transform = 'translateY(0)';\r\n\r\n            // Show modal and team zone\r\n            slotWindow.classList.add('hidden');\r\n            teamZone.classList.remove('hidden');\r\n            modal.classList.remove('hidden');\r\n\r\n            playTone(440, 'sine', 0.2);\r\n\r\n            // Interaction\r\n            spinBtn.onclick = () => {\r\n                playTone(880, 'sine', 0.1);\r\n                teamZone.classList.add('hidden');\r\n                slotWindow.classList.remove('hidden');\r\n\r\n                setTimeout(() => {\r\n                    reel.style.transition = 'transform 2.5s cubic-bezier(0.1, 0, 0.1, 1)';\r\n                    const offset = (strip.length - 1) * 120;\r\n                    reel.style.transform = `translateY(-${offset}px)`;\r\n                }, 50);\r\n\r\n                setTimeout(() => {\r\n                    playTone(880, 'sine', 0.5); // Victory sound\r\n                    setTimeout(() => {\r\n                        modal.classList.add('hidden');\r\n                        resolve();\r\n                    }, 1500);\r\n                }, 2700);\r\n            };\r\n        });\r\n    }\r\n\r\n\r\n    function showResults() {\r\n        showScreen('results');\r\n        audioPlayer.pause();\r\n        if (state.interval) clearInterval(state.interval);\r\n\r\n        // Hide the reveal card overlay if it's still visible\r\n        revealCard.classList.add('hidden');\r\n\r\n        const activeTeams = state.teams.slice(0, state.teamCount);\r\n        // Sort teams by score descending\r\n        const sorted = [...activeTeams].sort((a, b) => b.score - a.score);\r\n\r\n        const winner = sorted[0];\r\n        const winnerNameEl = document.getElementById('winner-name');\r\n        const winnerMsgEl = document.getElementById('winner-message');\r\n        const comfortMsgEl = document.getElementById('comfort-message');\r\n        const podiumContainer = document.getElementById('final-podium');\r\n\r\n        // Winner Display\r\n        if (sorted.length > 1 && sorted[0].score === sorted[1].score) {\r\n            winnerNameEl.innerText = \"√âGALIT√â !\";\r\n            winnerMsgEl.innerText = \"Quel match serr√© ! Vous √™tes tous des champions.\";\r\n        } else {\r\n            winnerNameEl.innerText = winner.name;\r\n            winnerMsgEl.innerText = \"F√©licitations pour cette victoire √©crasante ! üéâ\";\r\n        }\r\n\r\n        // Dynamic Podium\r\n        podiumContainer.innerHTML = '';\r\n        sorted.forEach((team, index) => {\r\n            const podiumItem = document.createElement('div');\r\n            podiumItem.className = `podium-item rank-${index + 1}`;\r\n            podiumItem.innerHTML = `\r\n            <div class=\"podium-rank\">#${index + 1}</div>\r\n            <div class=\"podium-bar\">\r\n                <div class=\"podium-name\">${team.name}</div>\r\n                <div class=\"podium-pts\">${team.score} PTS</div>\r\n            </div>\r\n        `;\r\n            podiumContainer.appendChild(podiumItem);\r\n        });\r\n\r\n        // Comfort message for the last one\r\n        const losers = sorted.slice(1);\r\n        if (losers.length > 0) {\r\n            comfortMsgEl.innerText = `Pas de panique ${losers[losers.length - 1].name}, la prochaine fois sera la bonne ! üòâ`;\r\n        } else {\r\n            comfortMsgEl.innerText = \"\";\r\n        }\r\n\r\n        // Sync finished status to players\r\n        if (state.roomRef) {\r\n            state.roomRef.update({\r\n                status: 'finished',\r\n                scores: activeTeams.map(t => ({ name: t.name, score: t.score }))\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    function restartGame() {\r\n        state.teams.forEach(t => t.score = 0);\r\n        state.round = 0;\r\n        state.playedSongs = [];\r\n        document.querySelectorAll('.joker-btn').forEach(btn => btn.classList.remove('used', 'active'));\r\n        updateScores();\r\n        showScreen('home');\r\n    }\r\n\r\n});\r\n\r\n\r\n"},{"path":"firebase-config.js","content":"/**\r\n * CONFIGURATION FIREBASE - STITCH 2026\r\n * \r\n * Instructions pour le propri√©taire :\r\n * 1. Allez sur https://console.firebase.google.com/\r\n * 2. Cr√©ez un projet nomm√© \"Karaoke-2026\"\r\n * 3. Ajoutez une application Web\r\n * 4. Activez \"Realtime Database\" dans le menu de gauche\r\n * 5. Dans les r√®gles de la Realtime Database, mettez : \r\n *    { \"rules\": { \".read\": true, \".write\": true } }\r\n * 6. Copiez vos IDs ci-dessous :\r\n */\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyBVM3z6mRZXYp7LtEXy-maLVGhtLjuW4ts\",\r\n    authDomain: \"quizzgame2026.firebaseapp.com\",\r\n    databaseURL: \"https://quizzgame2026-default-rtdb.europe-west1.firebasedatabase.app\",\r\n    projectId: \"quizzgame2026\",\r\n    storageBucket: \"quizzgame2026.firebasestorage.app\",\r\n    messagingSenderId: \"747687791729\",\r\n    appId: \"1:747687791729:web:0a829fdb6ffaeee7931fd0\",\r\n    measurementId: \"G-WQ2XBQY49R\"\r\n};\r\n\r\n// Initialisation globale si la config est remplie\r\nif (firebaseConfig.apiKey !== \"VOTRE_API_KEY\") {\r\n    if (typeof firebase !== 'undefined') {\r\n        if (!firebase.apps.length) {\r\n            firebase.initializeApp(firebaseConfig);\r\n            console.log(\"Firebase Initialis√© ! ‚úÖ\");\r\n        }\r\n    } else {\r\n        console.error(\"Firebase SDK non trouv√© ! Le mode multi-joueurs ne fonctionnera pas.\");\r\n    }\r\n} else {\r\n    console.warn(\"Firebase non configur√©. Le mode multi-joueurs ne fonctionnera pas localement.\");\r\n}\r\n"}]